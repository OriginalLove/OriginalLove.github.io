{"meta":{"title":"Fei's Blog","subtitle":"努力~","description":null,"author":"飞","url":"http://iplugin.cn"},"pages":[{"title":"关于","date":"2016-07-29T14:42:39.000Z","updated":"2016-07-29T14:46:39.000Z","comments":true,"path":"about/index.html","permalink":"http://iplugin.cn/about/index.html","excerpt":"","text":""},{"title":"archive","date":"2016-07-29T14:41:33.000Z","updated":"2016-07-29T14:41:33.000Z","comments":true,"path":"archive/index.html","permalink":"http://iplugin.cn/archive/index.html","excerpt":"","text":""},{"title":"","date":"2016-12-29T03:09:54.000Z","updated":"2016-12-29T03:09:54.000Z","comments":false,"path":"categories/index.html","permalink":"http://iplugin.cn/categories/index.html","excerpt":"","text":""},{"title":"","date":"2016-12-29T03:11:15.000Z","updated":"2016-12-29T03:11:15.000Z","comments":false,"path":"tags/index.html","permalink":"http://iplugin.cn/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Android 开发遇到的问题集锦","slug":"AndroidDevProblem","date":"2018-01-11T08:41:54.000Z","updated":"2018-01-11T08:45:50.941Z","comments":true,"path":"2018/01/11/AndroidDevProblem/","link":"","permalink":"http://iplugin.cn/2018/01/11/AndroidDevProblem/","excerpt":"&#x6458;&#x8981;: &#x200B; &#x672C;&#x7BC7;&#x957F;&#x671F;&#x7EF4;&#x62A4;&#xFF0C;&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;android&#x5F00;&#x53D1;&#x4E2D;&#x9047;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x3002;","text":"&#x6458;&#x8981;: &#x200B; &#x672C;&#x7BC7;&#x957F;&#x671F;&#x7EF4;&#x62A4;&#xFF0C;&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;android&#x5F00;&#x53D1;&#x4E2D;&#x9047;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x3002; 1.&#x70B9;&#x51FB;&#x4E8B;&#x4EF6; &#x5FEB;&#x901F;&#x70B9;&#x51FB;&#x70B9;&#x51FB;&#x8DF3;&#x51FA;&#x4E86;App&#xFF0C;&#x60C5;&#x51B5;&#x5982;&#x4E0B;: &#x200B; &#x89E3;&#x51B3;&#x529E;&#x6CD5;: &#x200B; &#x53BB;&#x9664;AppTheme &#x4E2D; &#x628A;windowIsTranslucent &#x53BB;&#x6389;&#x5373;&#x53EF; &#x70B9;&#x51FB;&#x8DF3;&#x51FA;&#x4E86;App&#xFF0C;&#x770B;&#x5230;&#x684C;&#x9762;&#xFF0C;&#x7136;&#x540E;&#x53C8;&#x56DE;&#x5230;&#x4E86;APP&#xFF0C; &#x200B; &#x89E3;&#x51B3;&#x529E;&#x6CD5;: &#x200B; &#x53BB;&#x9664;AppTheme &#x4E2D; &#x628A;windowIsTranslucent &#x53BB;&#x6389;&#x5373;&#x53EF;","categories":[],"tags":[{"name":"Android Dev Erp","slug":"Android-Dev-Erp","permalink":"http://iplugin.cn/tags/Android-Dev-Erp/"},{"name":"2018","slug":"2018","permalink":"http://iplugin.cn/tags/2018/"}],"keywords":[]},{"title":"代理模式","slug":"代理模式","date":"2016-11-27T06:51:44.000Z","updated":"2018-01-11T08:33:58.706Z","comments":true,"path":"2016/11/27/代理模式/","link":"","permalink":"http://iplugin.cn/2016/11/27/代理模式/","excerpt":"&#x6458;&#x8981;: &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x5728;Android&#x5F00;&#x53D1;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x3002;","text":"&#x6458;&#x8981;: &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x5728;Android&#x5F00;&#x53D1;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x3002; &#x524D;&#x8A00;&#x200B; &#x6B63;&#x6240;&#x8C13;&#x53EA;&#x8981;&#x529F;&#x592B;&#x6DF1;&#xFF0C;&#x94C1;&#x6775;&#x78E8;&#x6210;&#x9488;&#xFF0C;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6C34;&#x6EF4;&#x77F3;&#x7A7F;&#x3002;&#x5B66;&#x4E60;&#x4E5F;&#x8981;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#xFF0C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4EE5;&#x91CF;&#x53D8;&#x4FC3;&#x6210;&#x8D28;&#x53D8;&#x3002;&#x5728;&#x524D;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x597D;&#x826F;&#x597D;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x4E0D;&#x6025;&#x4E0D;&#x71E5;&#xFF0C;&#x811A;&#x8E0F;&#x5B9E;&#x5730;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x4E2A;&#x811A;&#x5370;&#x3002; &#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x4ECB;&#x7ECD;&#x200B; &#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x4E5F;&#x53EB;&#x505A;&#x59D4;&#x6258;&#x6A21;&#x5F0F;&#xFF0C;&#x662F;Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E2D;&#x7ED3;&#x6784;&#x578B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x4E00;&#x79CD;&#x3002;&#x5728;&#x5176;&#x4ED6;&#x7684;&#x8BF8;&#x591A;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E2D;&#x5982;&#xFF1A;&#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x3001;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x3001;&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x5728;&#x66F4;&#x7279;&#x6B8A;&#x7684;&#x573A;&#x5408;&#x91C7;&#x7528;&#x4E86;&#x59D4;&#x6258;&#x6A21;&#x5F0F;&#x5373;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x3002;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x662F;&#x4E00;&#x79CD;&#x4F7F;&#x7528;&#x7387;&#x975E;&#x5E38;&#x9AD8;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002; &#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;&#x200B; &#x4E3A;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4EE3;&#x7406;&#x4EE5;&#x63A7;&#x5236;&#x5BF9;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x8BBF;&#x95EE;&#x3002; &#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x5F53;&#x65E0;&#x6CD5;&#x6216;&#x4E0D;&#x60F3;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x65F6;&#x3002; &#x5F53;&#x8BBF;&#x95EE;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x5B58;&#x5728;&#x56F0;&#x96BE;&#x65F6;&#x3002; &#x3002;&#x3002;&#x3002; &#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x901A;&#x7528;UML&#x7C7B;&#x56FE; proxyUml &#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x4F18;&#x7F3A;&#x70B9;&#x540E;&#x8BB0;&#x200B; &#x6587;&#x7AE0;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#xFF0C;&#x671B;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x70B9;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599; &lt;&lt;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x8749;&gt;&gt; &#x79E6;&#x5C0F;&#x6CE2; &#x8457;","categories":[],"tags":[{"name":"Java 设计模式","slug":"Java-设计模式","permalink":"http://iplugin.cn/tags/Java-设计模式/"}],"keywords":[]},{"title":"命令模式","slug":"CommandPattern","date":"2016-09-08T01:29:13.000Z","updated":"2017-06-15T01:12:38.000Z","comments":true,"path":"2016/09/08/CommandPattern/","link":"","permalink":"http://iplugin.cn/2016/09/08/CommandPattern/","excerpt":"&#x6458;&#x8981;: &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x5185;&#x5BB9;&#x662F;Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;(Command Pattern)&#x3002;","text":"&#x6458;&#x8981;: &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x5185;&#x5BB9;&#x662F;Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;(Command Pattern)&#x3002; &#x524D;&#x8A00;&#x200B; &#x6B63;&#x6240;&#x8C13;&#x53EA;&#x8981;&#x529F;&#x592B;&#x6DF1;&#xFF0C;&#x94C1;&#x6775;&#x78E8;&#x6210;&#x9488;&#xFF0C;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6C34;&#x6EF4;&#x77F3;&#x7A7F;&#x3002;&#x5B66;&#x4E60;&#x4E5F;&#x8981;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#xFF0C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4EE5;&#x91CF;&#x53D8;&#x4FC3;&#x6210;&#x8D28;&#x53D8;&#x3002;&#x5728;&#x524D;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x597D;&#x826F;&#x597D;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x4E0D;&#x6025;&#x4E0D;&#x71E5;&#xFF0C;&#x811A;&#x8E0F;&#x5B9E;&#x5730;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x4E2A;&#x811A;&#x5370;&#x3002; &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x4ECB;&#x7ECD;&#x200B; &#x547D;&#x4EE4;&#x6A21;&#x5F0F;(Command Pattern)&#x662F;&#x4E00;&#x79CD;&#x884C;&#x4E3A;&#x578B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;&#x662F;&#x4E00;&#x79CD;&#x9AD8;&#x5185;&#x805A;&#x7684;&#x6A21;&#x5F0F;&#x3002;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x76F8;&#x8F83;&#x4E8E;&#x5176;&#x4ED6;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x66F4;&#x4E3A;&#x7075;&#x6D3B;&#x591A;&#x53D8;&#x3002;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x542C;&#x540D;&#x5B57;&#x5C31;&#x77E5;&#x9053;&#x5176;&#x5173;&#x952E;&#x70B9;&#x5C31;&#x662F;&#x547D;&#x4EE4;&#xFF0C;&#x5728;GUI&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x7684;&#x4F7F;&#x7528;&#x9891;&#x7387;&#x6BD4;&#x8F83;&#x9AD8;&#x4E00;&#x70B9;&#xFF0C;&#x6BD4;&#x5982;:&#x4E00;&#x4E2A;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x662F;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x3002; &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;&#x200B; &#x5C06;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x4ECE;&#x800C;&#x8BA9;&#x4F60;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x8BF7;&#x6C42;&#x628A;&#x5BA2;&#x6237;&#x7AEF;&#x53C2;&#x6570;&#x5316;&#xFF0C;&#x5BF9;&#x8BF7;&#x6C42;&#x6392;&#x961F;&#x6216;&#x8005;&#x8BB0;&#x5F55;&#x8BF7;&#x6C42;&#x65E5;&#x5FD7;&#xFF0C;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x547D;&#x4EE4;&#x7684;&#x64A4;&#x9500;&#x548C;&#x6062;&#x590D;&#x529F;&#x80FD;&#x3002; &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x4F7F;&#x7528;&#x573A;&#x666F;&#x975E;&#x5E38;&#x5E7F;&#x6CDB;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x8BA4;&#x4E3A;&#x662F;&#x547D;&#x4EE4;&#x7684;&#x5730;&#x65B9;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x3002; &#x89E6;&#x53D1;&#x2014;&#x2014;&#x53CD;&#x9988;&#x673A;&#x5236;&#x7684;&#x5904;&#x7406;&#x3002; &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x901A;&#x7528;UML&#x7C7B;&#x56FE; &#x8BF4;&#x660E;&#xFF1A; Receiver &#x63A5;&#x6536;&#x89D2;&#x8272;&#xFF0C;&#x6267;&#x884C;&#x5177;&#x4F53;&#x903B;&#x8F91;&#x7684;&#x89D2;&#x8272;&#x3002; Command &#x547D;&#x4EE4;&#x89D2;&#x8272;&#xFF0C;&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x90FD;&#x5728;&#x8FD9;&#x91CC;&#x58F0;&#x660E;&#xFF0C;&#x662F;&#x6240;&#x6709;&#x5177;&#x4F53;&#x547D;&#x4EE4;&#x7C7B;&#x7684;&#x62BD;&#x8C61;&#x63A5;&#x53E3;&#x3002; ConcreteCommand &#x5177;&#x4F53;&#x7684;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#xFF0C;&#x5B9E;&#x73B0;Command&#x63A5;&#x53E3;&#x3002; Invoker &#x8C03;&#x7528;&#x8005;&#x89D2;&#x8272;&#xFF0C;&#x63A5;&#x6536;&#x5230;&#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x547D;&#x4EE4; Client &#x5BA2;&#x6237;&#x7AEF;&#x89D2;&#x8272;&#x3002; &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x200B; &#x5728;&#x5B89;&#x5353;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F1A;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x767B;&#x5F55;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5C31;&#x7528;&#x5F00;&#x53D1;&#x7B2C;&#x4E09;&#x65B9;&#x767B;&#x5F55;&#x4E3A;&#x7B80;&#x5355;&#x793A;&#x4F8B;&#x3002; Receiver&#x63A5;&#x6536;&#x8005;&#x89D2;&#x8272;&#x3002; 123456789101112131415161718192021222324package iuni.life;/** * Created by iuni.life on 2016/10/17. * yangfei&apos;s computer * &#x63A5;&#x53D7;&#x8005;&#x89D2;&#x8272; */public class Receiver { public void qQLogin() { System.out.println(&quot;QQ&#x767B;&#x5F55;&quot;); } public void weChatLogin() { System.out.println(&quot;&#x5FAE;&#x4FE1;&#x767B;&#x5F55;&quot;); } public void weiBoLogin() { System.out.println(&quot;&#x65B0;&#x6D6A;&#x5FAE;&#x535A;&#x767B;&#x5F55;&quot;); } public void baiDuLogin() { System.out.println(&quot;&#x767E;&#x5EA6;&#x767B;&#x5F55;&quot;); }} &#x200B; Command &#x62BD;&#x8C61;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x3002; 12345678910package iuni.life;/** * Created by iuni.life on 2016/9/22. * yangfei&apos;s computer * &#x62BD;&#x8C61;&#x547D;&#x4EE4;&#x89D2;&#x8272; */public interface Command { void execute();} &#x200B; QQLogin &#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x3002; 123456789101112131415161718package iuni.life;/** * Created by iuni.life on 2016/10/17. * yangfei&apos;s computer */public class QQLogin implements Command { private Receiver receiver; public QQLogin(Receiver receiver) { this.receiver = receiver; } @Override public void execute() { receiver.qQLogin(); }} &#x200B; WeChatLogin &#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x3002; 123456789101112131415161718package iuni.life;/** * Created by iuni.life on 2016/10/17. * yangfei&apos;s computer */public class WeChatLogin implements Command { private Receiver receiver; public WeChatLogin(Receiver receiver) { this.receiver = receiver; } @Override public void execute() { receiver.weChatLogin(); }} &#x200B; WeiBoLogin &#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x3002; 12345678910111213141516171819package iuni.life;/** * Created by iuni.life on 2016/10/17. * yangfei&apos;s computer * &#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x7C7B; */public class WeiBoLogin implements Command { private Receiver receiver; public WeiBoLogin(Receiver receiver) { this.receiver = receiver; } @Override public void execute() { receiver.weiBoLogin(); }} &#x200B; BaiduLogin &#x5177;&#x4F53;&#x547D;&#x4EE4;&#x89D2;&#x8272;&#x3002; 123456789101112131415161718package iuni.life;/** * Created by iuni.life on 2016/10/17. * yangfei&apos;s computer */public class BaiduLogin implements Command { private Receiver receiver; public BaiduLogin(Receiver receiver) { this.receiver = receiver; } @Override public void execute() { receiver.baiDuLogin(); }} &#x200B; Client &#x5BA2;&#x6237;&#x7AEF;&#x89D2;&#x8272;&#x7C7B; 1234567891011121314151617181920212223242526272829package iuni.life;/** * Created by iuni.life on 2016/10/17. * yangfei&apos;s computer * &#x5BA2;&#x6237;&#x7AEF;&#x89D2;&#x8272;&#x7C7B; */public class Client { public static void main(String[] args) { //&#x521B;&#x5EFA;&#x63A5;&#x53D7;&#x8005; Receiver receiver = new Receiver(); //&#x521B;&#x5EFA;&#x547D;&#x4EE4;&#x5BF9;&#x8C61; Command QQCommand = new QQLogin(receiver); Command weChatCommand = new WeChatLogin(receiver); Command weiBoCommand = new WeiBoLogin(receiver); Command baiduCommand = new BaiduLogin(receiver); //&#x521B;&#x5EFA;&#x8BF7;&#x6C42;&#x8005; Invoker invoker = new Invoker(QQCommand); invoker = new Invoker(weChatCommand); invoker = new Invoker(weiBoCommand); invoker = new Invoker(baiduCommand); //&#x6267;&#x884C;&#x65B9;&#x6CD5; invoker.allAction(); System.out.println(&quot;------------------&#x6211;&#x662F;&#x534E;&#x4E3D;&#x7684;&#x5206;&#x5272;&#x7EBF;-------------------------------&quot;); invoker.removeAction(baiduCommand); System.out.println(&quot;------------------&#x6211;&#x662F;&#x534E;&#x4E3D;&#x7684;&#x5206;&#x5272;&#x7EBF;-------------------------------&quot;); invoker.allAction(); }} &#x200B; &#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x3002; &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x4F18;&#x7F3A;&#x70B9;&#x4F18;&#x70B9; &#x7C7B;&#x95F4;&#x89E3;&#x8026; &#x8C03;&#x7528;&#x8005;&#x4E0E;&#x63A5;&#x6536;&#x8005;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x3002;&#x8C03;&#x7528;&#x8005;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x65F6;&#x53EA;&#x9700;&#x8981;&#x8C03;&#x7528;Command&#x62BD;&#x8C61;&#x7C7B;&#x7684;execute&#x65B9;&#x6CD5;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x5230;&#x5E95;&#x662F;&#x54EA;&#x4E2A;&#x63A5;&#x6536;&#x8005;&#x6267;&#x884C;&#x3002; &#x53EF;&#x62D3;&#x5C55;&#x6027; Command&#x7684;&#x5B50;&#x7C7B;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x7684;&#x62D3;&#x5C55;&#xFF0C;&#x800C;&#x8C03;&#x7528;&#x8005;Invoker&#x548C;&#x9AD8;&#x5C42;&#x6B21;&#x7684;&#x6A21;&#x5757;Client&#x4E0D;&#x4EA7;&#x751F;&#x4E25;&#x91CD;&#x7684;&#x4EE3;&#x7801;&#x8026;&#x5408;&#x3002; &#x7ED3;&#x5408;&#x5176;&#x4ED6;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4F1A;&#x66F4;&#x4F18;&#x79C0; &#x547D;&#x4EE4;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#xFF0C;&#x5B9E;&#x73B0;&#x547D;&#x4EE4;&#x65CF;&#x89E3;&#x6790;&#x4EFB;&#x52A1;&#xFF1B;&#x7ED3;&#x5408;&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;Command&#x5B50;&#x7C7B;&#x81A8;&#x80C0;&#x7684;&#x95EE;&#x9898;&#x3002; &#x7F3A;&#x70B9; &#x5982;&#x679C;&#x6709;N&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;Command&#x5B50;&#x7C7B;&#x5C31;&#x662F;N&#x4E2A;&#xFF0C;&#x5B50;&#x7C7B;&#x81A8;&#x80C0;&#x7684;&#x975E;&#x5E38;&#x5927;&#x3002; &#x540E;&#x8BB0;&#x200B; &#x6587;&#x7AE0;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#xFF0C;&#x671B;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x70B9;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599; &lt;&lt;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x8749;&gt;&gt; &#x79E6;&#x5C0F;&#x6CE2; &#x8457; &#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x5982;&#x60F3;&#x83B7;&#x5F97;&#x66F4;&#x597D;&#x9605;&#x8BFB;&#x4F53;&#x9A8C;&#xFF0C;&#x8BF7;&#x8BBF;&#x95EE;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#xFF1A;iplugin.cn","categories":[],"tags":[{"name":"Java 设计模式","slug":"Java-设计模式","permalink":"http://iplugin.cn/tags/Java-设计模式/"}],"keywords":[]},{"title":"策略模式","slug":"策略模式","date":"2016-09-01T06:51:44.000Z","updated":"2017-06-14T13:54:29.000Z","comments":true,"path":"2016/09/01/策略模式/","link":"","permalink":"http://iplugin.cn/2016/09/01/策略模式/","excerpt":"&#x6458;&#x8981;: &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x3002;","text":"&#x6458;&#x8981;: &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x3002; &#x524D;&#x8A00;&#x200B; &#x6B63;&#x6240;&#x8C13;&#x53EA;&#x8981;&#x529F;&#x592B;&#x6DF1;&#xFF0C;&#x94C1;&#x6775;&#x78E8;&#x6210;&#x9488;&#xFF0C;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6C34;&#x6EF4;&#x77F3;&#x7A7F;&#x3002;&#x5B66;&#x4E60;&#x4E5F;&#x8981;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#xFF0C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4EE5;&#x91CF;&#x53D8;&#x4FC3;&#x6210;&#x8D28;&#x53D8;&#x3002;&#x5728;&#x524D;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x597D;&#x826F;&#x597D;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x4E0D;&#x6025;&#x4E0D;&#x71E5;&#xFF0C;&#x811A;&#x8E0F;&#x5B9E;&#x5730;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x4E2A;&#x811A;&#x5370;&#x3002; &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4ECB;&#x7ECD;&#x200B; &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4E5F;&#x53EB;&#x653F;&#x7B56;&#x6A21;&#x5F0F;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x884C;&#x4E3A;&#x578B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x91C7;&#x7528;&#x4E86;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x7EE7;&#x627F;&#x548C;&#x591A;&#x6001;&#x673A;&#x5236;&#xFF0C;&#x4E0B;&#x9762;&#x8BA9;&#x6211;&#x4EEC;&#x8BE6;&#x7EC6;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x5427;&#xFF01; &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;&#x200B; &#x5B9A;&#x4E49;&#x4E00;&#x7EC4;&#x7B97;&#x6CD5;&#xFF0C;&#x5C06;&#x6BCF;&#x4E2A;&#x7B97;&#x6CD5;&#x90FD;&#x5C01;&#x88C5;&#x8D77;&#x6765;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x4ED6;&#x4EEC;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x4E92;&#x6362;&#x3002; &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x591A;&#x4E2A;&#x7C7B;&#x53EA;&#x6709;&#x5728;&#x7B97;&#x6CD5;&#x6216;&#x884C;&#x4E3A;&#x4E0A;&#x7A0D;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x573A;&#x666F;&#x3002; &#x7B97;&#x6CD5;&#x9700;&#x8981;&#x81EA;&#x7531;&#x5207;&#x6362;&#x7684;&#x573A;&#x666F;&#x3002; &#x9700;&#x8981;&#x5C4F;&#x853D;&#x7B97;&#x6CD5;&#x89C4;&#x5219;&#x7684;&#x573A;&#x666F; &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x901A;&#x7528;UML&#x7C7B;&#x56FE; &#x8BF4;&#x660E;: Context &#x4ED6;&#x4E5F;&#x53EB;&#x4F5C;&#x4E0A;&#x4E0B;&#x6587;&#x89D2;&#x8272;&#xFF0C;&#x8D77;&#x627F;&#x4E0A;&#x542F;&#x4E0B;&#x5C01;&#x88C5;&#x4F5C;&#x7528;&#xFF0C;&#x5C4F;&#x853D;&#x9AD8;&#x5C42;&#x6A21;&#x5757;&#x5BF9;&#x7B56;&#x7565;&#x3001;&#x7B97;&#x6CD5;&#x7684;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#xFF0C;&#x5C01;&#x88C5;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x7684;&#x53D8;&#x5316;&#x3002; Strategy &#x7B56;&#x7565;&#x3001;&#x7B97;&#x6CD5;&#x5BB6;&#x65CF;&#x7684;&#x62BD;&#x8C61;&#x3002;&#x901A;&#x5E38;&#x4E3A;&#x63A5;&#x53E3;&#xFF0C;&#x5B9A;&#x4E49;&#x6BCF;&#x4E2A;&#x7B56;&#x7565;&#x6216;&#x7B97;&#x6CD5;&#x5FC5;&#x987B;&#x5177;&#x6709;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x5C5E;&#x6027;&#x3002;&#x662F;&#x7B56;&#x7565;&#x7684;&#x62BD;&#x8C61;&#x3002; ConcreteStrategy &#x5177;&#x4F53;&#x7684;&#x7B56;&#x7565;&#x5B9E;&#x73B0;&#x3002;&#x8BE5;&#x7C7B;&#x542B;&#x6709;&#x5177;&#x4F53;&#x7684;&#x7B97;&#x6CD5;&#x3002; &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x200B; &#x5FEB;&#x8FC7;&#x4E2D;&#x79CB;&#x4E86;&#xFF0C;&#x5C0F;&#x6768;&#x51C6;&#x5907;&#x56DE;&#x5BB6;&#x56E2;&#x5706;&#xFF0C;&#x56E0;&#x4E3A;&#x5BB6;&#x8DDD;&#x79BB;&#x81EA;&#x5DF1;&#x4E0A;&#x73ED;&#x7684;&#x5730;&#x65B9;500KM&#xFF0C;&#x6240;&#x4EE5;&#x5C0F;&#x6768;&#x60F3;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x4FBF;&#x5B9C;&#x7684;&#x56DE;&#x5BB6;&#x65B9;&#x5F0F;&#xFF0C;&#x5C0F;&#x6768;&#x8C03;&#x67E5;&#x4E86;&#x4E00;&#x4E0B;&#x53EF;&#x9009;&#x62E9;&#x7684;&#x51FA;&#x884C;&#x6709;&#x4E09;&#x79CD;&#xFF0C;&#x4E00;&#x505A;&#x98DE;&#x673A;&#xFF0C;&#x4E8C;&#x81EA;&#x5DF1;&#x9A7E;&#x8F66;&#xFF0C;&#x4E09;&#x4E58;&#x706B;&#x8F66;&#x3002;&#x8FD9;&#x4E09;&#x79CD;&#x4E58;&#x5750;&#x65B9;&#x5F0F;&#x7684;&#x4EF7;&#x683C;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5750;&#x98DE;&#x673A;&#x5927;&#x7EA6;&#x662F;&#x6CA1;&#x5343;&#x7C73;50&#x5143;&#xFF0C;&#x81EA;&#x5DF1;&#x9A7E;&#x8F66;&#x5927;&#x7EA6;&#x662F;&#x6BCF;&#x5343;&#x7C73;0.5&#x5143;&#xFF0C;&#x505A;&#x706B;&#x8F66;&#x5462;&#xFF0C;&#x6BCF;KM&#x5927;&#x7EA6;&#x662F;0.1&#x5143;&#xFF0C;&#x73B0;&#x5728;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x7528;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x5B9E;&#x73B0;&#x4E00;&#x4E0B;&#x5C0F;&#x6768;&#x8981;&#x8BA1;&#x7B97;&#x7684;&#x56DE;&#x5BB6;&#x8D39;&#x7528;&#x5427;&#xFF01; Strategy ,&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;CalculateStrategy&#x63A5;&#x53E3; 12345678910package iuni.life;/*** Created by iuni.life on 16/9/5.* yangfei&apos;s computer* &#x8BA1;&#x7B97;&#x63A5;&#x53E3;*/public interface CalculateStrategy { float price(int km);} &#x200B; ConcreteStrategy,&#x65B0;&#x5EFA;CarStrategy&#x3001;PlaneStrategy&#x3001;TrainStrategy&#x5B9E;&#x73B0;&#x63A5;&#x53E3;CalculateStrategy 12345678910111213 package iuni.life; /*** Created by iuni.life on 16/9/5.* yangfei&apos;s computer* &#x81EA;&#x5DF1;&#x5F00;&#x8F66; &#x6309;&#x6BCF;&#x516C;&#x91CC;0.5&#x5143;&#x8BA1;&#x7B97;*/ public class CarStrategy implements CalculateStrategy { @Override public float price(int km) { return (float) 0.5 * km; } } 123456789101112 package iuni.life; /*** Created by iuni.life on 16/9/5.* yangfei&apos;s computer* &#x4E58;&#x98DE;&#x673A; &#x6309;&#x6BCF;&#x516C;&#x91CC;50&#x5143;&#x8BA1;&#x7B97;*/ public class PlaneStrategy implements CalculateStrategy { @Override public float price(int km) { return 50 * km; } } 12345678910111213package iuni.life; /** * Created by iuni.life on 16/9/5. * yangfei&apos;s computer * &#x4E58;&#x706B;&#x8F66; &#x5927;&#x7EA6;&#x662F;&#x6BCF;&#x516C;&#x91CC;&#x6309;0.1&#x5143;&#x8BA1;&#x7B97; */ public class TrainStrategy implements CalculateStrategy { @Override public float price(int km) { return (float) (0.1 * km); } } Context ,&#x65B0;&#x5EFA;Client 1234567891011121314151617181920212223242526272829303132333435363738394041 package iuni.life; /*** Created by iuni.life on 16/9/5.* yangfei&apos;s computer*/public class Client { CalculateStrategy calculateStrategy; static int km = 500; public static void main(String[] args) { Client client = new Client(); //&#x9009;&#x62E9;&#x4E58;&#x98DE;&#x673A;&#x7684;&#x65B9;&#x5F0F; client.setCalculateStrategy(new PlaneStrategy()); System.out.println(&quot;&#x4E58;&#x5750;&#x98DE;&#x673A;&#x9700;&#x8981;&#x7684;&#x8D39;&#x7528;&#x4E3A;:&#xFFE5;&quot; + client.getPrice(km)); //&#x9009;&#x62E9;&#x4E58;&#x706B;&#x8F66;&#x7684;&#x65B9;&#x5F0F; client.setCalculateStrategy(new TrainStrategy()); System.out.println(&quot;&#x4E58;&#x5750;&#x706B;&#x8F66;&#x9700;&#x8981;&#x7684;&#x8D39;&#x7528;&#x4E3A;:&#xFFE5;&quot; + client.getPrice(km)); //&#x9009;&#x62E9;&#x81EA;&#x5DF1;&#x9A7E;&#x8F66;&#x7684;&#x65B9;&#x5F0F; client.setCalculateStrategy(new CarStrategy()); System.out.println(&quot;&#x81EA;&#x5DF1;&#x9A7E;&#x8F66;&#x9700;&#x8981;&#x7684;&#x8D39;&#x7528;&#x4E3A;:&#xFFE5;&quot; + client.getPrice(km)); } /** * &#x8BBE;&#x7F6E;&#x51FA;&#x884C;&#x65B9;&#x5F0F; * * @param calculateStrategy */ public void setCalculateStrategy(CalculateStrategy calculateStrategy) { this.calculateStrategy = calculateStrategy; } /** * &#x83B7;&#x5F97;&#x51FA;&#x884C;&#x8D39;&#x7528; * * @param km * @return */ public float getPrice(int km) { return calculateStrategy.price(km); }} &#x8FD0;&#x884C;&#x7ED3;&#x679C; &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4F18;&#x7F3A;&#x70B9;&#x4F18;&#x70B9; &#x7B97;&#x6CD5;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x5207;&#x6362;&#x3002; &#x7ED3;&#x6784;&#x6E05;&#x6670;&#x660E;&#x4E86;&#xFF0C;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x76F4;&#x89C2;&#x3002; &#x64CD;&#x4F5C;&#x5C01;&#x88C5;&#x66F4;&#x4E3A;&#x5F7B;&#x5E95;&#xFF0C;&#x7B80;&#x5316;&#x4E86;&#x64CD;&#x4F5C;&#x3002; &#x8026;&#x5408;&#x5EA6;&#x5927;&#x5927;&#x964D;&#x4F4E;&#xFF0C;&#x53EA;&#x8981;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x5373;&#x53EF;&#xFF0C;&#x65E0;&#x9700;&#x505A;&#x5176;&#x4ED6;&#x4FEE;&#x6539;&#x3002; &#x7F3A;&#x70B9; &#x968F;&#x7740;&#x7B56;&#x7565;&#x7684;&#x589E;&#x52A0;&#xFF0C;&#x7B56;&#x7565;&#x7C7B;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x3002; &#x6240;&#x6709;&#x7684;&#x7B56;&#x7565;&#x90FD;&#x8981;&#x66B4;&#x9732;&#x51FA;&#x53BB;&#x3002; &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x7684;&#x62D3;&#x5C55; &#x7B56;&#x7565;&#x679A;&#x4E3E; &#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x6539;&#x6210;&#x4EE5;&#x4E0B;&#x65B9;&#x5F0F;&#xFF1A; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x679A;&#x4E3E;&#x7C7B;&#xFF0C;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x5982;&#x4E0B;: 1234567891011121314151617181920212223242526272829303132package iuni.life;/*** Created by iuni.life on 16/9/5.* yangfei&apos;s computer*/public enum Calculator { //&#x81EA;&#x9A7E; CAR { public float price(int km) { return (float) 0.5 * km; } }, PLANE {//&#x98DE;&#x673A; public float price(int km) { return (float) 50 * km; } }, TRAIN {//&#x706B;&#x8F66; public float price(int km) { return (float) 0.1 * km; } }; Calculator() { } public abstract float price(int km);} &#x4FEE;&#x6539;Client 123456789101112131415 package iuni.life; /*** Created by iuni.life on 16/9/5.* yangfei&apos;s computer*/public class Client { static int km = 500; public static void main(String[] args) { System.out.println(&quot;&#x4E58;&#x5750;&#x98DE;&#x673A;&#x9700;&#x8981;&#x7684;&#x8D39;&#x7528;&#x4E3A;:&#xFFE5;&quot; + Calculator.PLANE.price(km)); System.out.println(&quot;&#x4E58;&#x5750;&#x706B;&#x8F66;&#x9700;&#x8981;&#x7684;&#x8D39;&#x7528;&#x4E3A;:&#xFFE5;&quot; + Calculator.TRAIN.price(km)); System.out.println(&quot;&#x81EA;&#x5DF1;&#x9A7E;&#x8F66;&#x9700;&#x8981;&#x7684;&#x8D39;&#x7528;&#x4E3A;:&#xFFE5;&quot; + Calculator.CAR.price(km)); }} &#x200B; &#x8FD0;&#x884C;&#x7ED3;&#x679C; &#x200B; &#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF1A; &#x8BE5;&#x4F8B;&#x5B50;&#x7684;Calculator&#x662F;&#x4E00;&#x4E2A;&#x679A;&#x4E3E;&#x3002; Calculator&#x662F;&#x4E00;&#x4E2A;&#x6D53;&#x7F29;&#x4E86;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x7684;&#x679A;&#x4E3E;&#x3002; &#x6CE8;&#x610F;: &#x7B56;&#x7565;&#x679A;&#x4E3E;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x4F18;&#x79C0;&#x548C;&#x65B9;&#x4FBF;&#x7684;&#x6A21;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x53D7;&#x5230;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x6BCF;&#x4E2A;&#x679A;&#x4E3E;&#x9879;&#x90FD;&#x662F;public&#x3001;final&#x3001;static&#x7684;&#xFF0C;&#x62D3;&#x5C55;&#x6027;&#x53D7;&#x5230;&#x4E86;&#x4E00;&#x5B9A;&#x7684;&#x7EA6;&#x675F;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x7CFB;&#x7EDF;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x679A;&#x4E3E;&#x7B56;&#x7565;&#x4E00;&#x822C;&#x62C5;&#x5F53;&#x4E0D;&#x7ECF;&#x5E38;&#x53D1;&#x751F;&#x53D8;&#x7684;&#x89D2;&#x8272;&#x3002; &#x540E;&#x8BB0;&#x200B; &#x6587;&#x7AE0;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#xFF0C;&#x671B;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x70B9;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599; &lt;&lt;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x8749;&gt;&gt; &#x79E6;&#x5C0F;&#x6CE2; &#x8457; &#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x5982;&#x60F3;&#x83B7;&#x5F97;&#x66F4;&#x597D;&#x9605;&#x8BFB;&#x4F53;&#x9A8C;&#xFF0C;&#x8BF7;&#x8BBF;&#x95EE;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#xFF1A;iplugin.cn","categories":[],"tags":[{"name":"Java 设计模式","slug":"Java-设计模式","permalink":"http://iplugin.cn/tags/Java-设计模式/"}],"keywords":[]},{"title":"Java注解三","slug":"Java注解三","date":"2016-08-31T07:19:02.000Z","updated":"2016-12-19T05:27:17.000Z","comments":true,"path":"2016/08/31/Java注解三/","link":"","permalink":"http://iplugin.cn/2016/08/31/Java注解三/","excerpt":"&#x6458;&#x8981;: &#x200B; &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x662F;&#x8BB2;&#x4F7F;&#x7528;Android Studio &#x5BF9;apt&#x5B9E;&#x73B0;Java&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x8FDB;&#x884C;Debug&#x3002;&#x200B;","text":"&#x6458;&#x8981;: &#x200B; &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x662F;&#x8BB2;&#x4F7F;&#x7528;Android Studio &#x5BF9;apt&#x5B9E;&#x73B0;Java&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x8FDB;&#x884C;Debug&#x3002;&#x200B; &#x524D;&#x8A00;&#x200B; &#x901A;&#x8FC7;&#x524D;&#x4E24;&#x7BC7;&#x6587;&#x7AE0;&#x5BF9;Java&#x6CE8;&#x89E3;&#x6709;&#x4E86;&#x4E00;&#x5B9A;&#x7684;&#x4E86;&#x89E3;&#x5E76;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x7B80;&#x5355;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x5BF9;&#x4F7F;&#x7528;&#x53CD;&#x5C04;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x8FDB;&#x884C;Debug&#x548C;&#x6B63;&#x5E38;&#x7684;&#x8C03;&#x8BD5;&#x6CA1;&#x6709;&#x592A;&#x5927;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x505A;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD;&#x4E86;&#x3002;&#x73B0;&#x5728;&#x5C31;&#x6765;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;Android Studio&#x5982;&#x4F55;&#x5BF9;apt&#x5B9E;&#x73B0;Java&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x8FDB;&#x884C;Debug&#x3002; &#x6CE8;&#x610F;: &#x200B; &#x672C;&#x7BC7;&#x662F;&#x5BF9;Java&#x6CE8;&#x89E3;&#x4E8C; &#x4E2D;&#x7684;&#x5B9E;&#x4F8B;&#x8FDB;&#x884C;&#x8C03;&#x8BD5;&#x3002; &#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#x200B; &#x628A;Android Studio&#x4E2D;&#x5E26;&#x7684;gradle&#x6DFB;&#x52A0;&#x5230;&#x7535;&#x8111;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#xFF0C;&#x56E0;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;Mac &#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x53EA;&#x5199;&#x4E86;Mac&#x4E0B;gradle&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; &#x5728;mac&#x4E0B;&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#xFF0C;&#x8F93;&#x5165; vi ~/.bash_profile &#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;: &#x6309;Enter&#x952E;&#x8FDB;&#x5165;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;&#xFF0C;&#x6309;&#x5B57;&#x6BCD;&#x201D;i&#x201D;&#x8FDB;&#x5165;&#x7F16;&#x8BD1;&#x72B6;&#x6001;&#xFF0C;&#x8F93;&#x5165;&#x4E0B;&#x9762;&#x6587;&#x5B57;&#xFF1A; 1234//&#x8FD9;&#x91CC;&#x627E;&#x81EA;&#x5DF1;&#x7535;&#x8111;&#x4E0A;&#x7684;Android Studio&#x4E2D;&#x4E0B;&#x9762;&#x7684;gradle&#x8DEF;&#x5F84;&#x53CA;&#x7248;&#x672C;(&#x83B7;&#x53D6;&#x65B9;&#x6CD5;&#x8BE6;&#x89C1;&#x4E0B;&#x9762;&#x6CE8;&#x610F;) &#x6CE8;&#x610F;Android studio&#x4E2D;&#x56E0;&#x4E3A;&#x6709;&#x7A7A;&#x683C;&#x6240;&#x4EE5;&#x8981;&#x4F7F;&#x7528;&#x8F6C;&#x4E49;&#x7B26;\\ &#x8F6C;&#x79FB;&#x7B26;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x3002;export GRADLE_HOME=/Applications/Android\\ Studio.app/Contents/gradle/gradle-2.14.1export PATH=${PATH}:${GRADLE_HOME}/bin &#x914D;&#x7F6E;&#x597D;&#x540E;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x914D;&#x7F6E;&#x597D;&#x540E;&#xFF0C;&#x6309;Esc&#x952E;&#x9000;&#x51FA;&#x7F16;&#x8F91;&#xFF0C;&#x7136;&#x540E;&#x8F93;&#x5165;&#x201D;:wq!&#x201D;&#x9000;&#x51FA;&#x5E76;&#x4FDD;&#x5B58;&#x4FEE;&#x6539;&#x7684;&#x6587;&#x4EF6;&#x3002; &#x5173;&#x95ED;&#x7EC8;&#x7AEF;&#xFF0C;&#x5E76;&#x4E14;&#x91CD;&#x542F;&#xFF0C;&#x914D;&#x7F6E;&#x5B8C;&#x6210; &#x6CE8;&#x610F;&#xFF1A; &#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x53EF;&#x80FD;&#x5E26;&#x6765;&#x7684;&#x95EE;&#x9898; &#x914D;&#x7F6E;&#x51FA;&#x9519;&#xFF0C;&#x547D;&#x4EE4;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x641E;&#x5B9A;&#xFF1A;export PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin &#x8F93;&#x5165;&#x4EE5;&#x4E0A;&#x547D;&#x4EE4;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x5165;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x68C0;&#x67E5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x628A;&#x914D;&#x9519;&#x7684;&#x8DEF;&#x5F84;&#x66F4;&#x6B63;&#x5373;&#x53EF;&#x3002; &#x67E5;&#x8BE2;Android studio&#x4E2D;gradle&#x7684;&#x8DEF;&#x5F84; &#x5728;Mac&#x4E2D;&#x901A;&#x8FC7;Finder&#x6253;&#x5F00;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x754C;&#x9762;&#xFF0C;&#x627E;&#x5230;Android Studio.app&#x53F3;&#x51FB;&#x9009;&#x62E9;&#x663E;&#x793A;&#x5305;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x4F9D;&#x6B21;&#x6309;&#x7167;Contents/gradle/ &#x8DEF;&#x5F84;&#x6253;&#x5F00;&#xFF0C;&#x5373;&#x53EF;&#x53D1;&#x73B0;&#x81EA;&#x5DF1;Android Studio&#x4E2D;&#x7684;gradle&#x7684;&#x7248;&#x672C;&#xFF0C;&#x628A;&#x627E;&#x5230;&#x7684;&#x8DEF;&#x5F84;&#x914D;&#x7F6E;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5373;&#x53EF;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x7684;&#x662F;gradle-2.14.1&#x3002; &#x8BBE;&#x7F6E;&#x65AD;&#x70B9;&#x200B; &#x5728;process&#x65B9;&#x6CD5;&#x4E0B;&#x6253;&#x65AD;&#x70B9;&#xFF0C;&#x5982;&#x56FE;&#xFF1A; JavaApt3_1 &#x914D;&#x7F6E;gradle&#x8BBE;&#x7F6E;grade daemon&#x7AEF;&#x53E3;&#x548C;JVM&#x53C2;&#x6570;&#xFF0C;&#x628A;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x52A0;&#x5165;&#x5230;gradle.properties&#x4E2D;&#xFF0C;&#x4EE3;&#x7801;&#x4E3A;&#xFF1A; 12org.gradle.daemon=trueorg.gradle.jvmargs=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 &#x52A0;&#x597D;&#x540E;&#xFF0C;gradle.properties&#x6587;&#x4EF6;&#x91CC;&#x7684;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; javaApt3_2 &#x914D;&#x7F6E;&#x597D;&#x540E;&#xFF0C;&#x6253;&#x5F00;Android studio&#x7684;Terminal,&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x542F;&#x52A8;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;: 1gradle --daemon &#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;: javaApt3_5 &#x6309;Enter&#x7B49;&#x5F85;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x3002;&#x6210;&#x529F;&#x4E4B;&#x540E;&#x5E94;&#x8BE5;&#x4F1A;&#x51FA;&#x73B0;BUILD SUCCESSF0UL&#x3002; &#x5EFA;&#x7ACB;Remote Debugger&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x6D41;&#x7A0B;&#xFF1A; javaApt3_6 &#x5176;&#x4ED6;&#x6211;&#x4EEC;&#x4FDD;&#x6301;&#x9ED8;&#x8BA4;&#x5373;&#x53EF;&#x3002; &#x8C03;&#x8BD5; &#x9009;&#x62E9;&#x521A;&#x65B0;&#x5EFA;&#x7684;AptAnnotationProcessor,&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x70B9;&#x51FB;&#x56FE;&#x6807; javaApt3_10 &#x6267;&#x884C;Debug&#xFF0C;&#x7136;&#x540E;&#x4F9D;&#x6B21;&#x6267;&#x884C;Clean Project &#xFF0C;Make Project &#x5373;&#x53EF;&#x8FDB;&#x5165;&#x8C03;&#x8BD5;&#x3002; &#x4E0B;&#x4E00;&#x7BC7;&#x4F1A;&#x5217;&#x4E3E;&#x4E00;&#x4E2A;Java&#x6CE8;&#x89E3;&#x7684;&#x5E94;&#x7528;&#x7684;&#x5B9E;&#x4F8B;&#x3002; &#x540E;&#x8BB0;&#x6587;&#x7AE0;&#x6709;&#x4E0D;&#x8DB3;&#x4E4B;&#x540E;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x6559;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002;","categories":[],"tags":[{"name":"Java进阶","slug":"Java进阶","permalink":"http://iplugin.cn/tags/Java进阶/"}],"keywords":[]},{"title":"Java注解二","slug":"Java注解二","date":"2016-08-30T05:52:43.000Z","updated":"2016-12-09T01:30:32.000Z","comments":true,"path":"2016/08/30/Java注解二/","link":"","permalink":"http://iplugin.cn/2016/08/30/Java注解二/","excerpt":"&#x6458;&#x8981;: &#x200B; &#x672C;&#x7BC7;&#x5C06;&#x4F1A;&#x4ECB;&#x7ECD;&#x4F7F;&#x7528;apt&#x5DE5;&#x5177;&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x3002;","text":"&#x6458;&#x8981;: &#x200B; &#x672C;&#x7BC7;&#x5C06;&#x4F1A;&#x4ECB;&#x7ECD;&#x4F7F;&#x7528;apt&#x5DE5;&#x5177;&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x3002; [TOC] &#x4F7F;&#x7528;apt&#x5DE5;&#x5177;&#x5B9E;&#x73B0;Java&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x786E;&#x8BA4;JAVA&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5DF2;&#x7ECF;&#x914D;&#x7F6E;&#x6210;&#x529F;&#xFF0C;&#x5E76;&#x4E14;&#x628A;tools.jar&#x52A0;&#x5165;&#x5230;&#x81EA;&#x5DF1;&#x7535;&#x8111;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;IntelliJ IDEA (&#x5F00;&#x53D1;&#x6CE8;&#x89E3;&#x4EE5;&#x53CA;&#x89E3;&#x6790;&#x5E93;&#xFF0C;&#x5E76;&#x4E14;&#x6253;&#x51FA;jar&#x5305;)&#x548C;Android studio(&#x6D4B;&#x8BD5;&#x81EA;&#x5DF1;&#x6253;&#x51FA;&#x7684;jar&#x5305;&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;)&#xFF0C;&#x4F7F;&#x7528;apt&#x5B9E;&#x73B0;&#x7684;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x662F;&#x7F16;&#x8BD1;&#x65F6;&#x5904;&#x7406;&#x6CE8;&#x89E3;&#x3002; &#x4F7F;&#x7528;apt&#x5904;&#x7406;&#x6CE8;&#x89E3;&#x5173;&#x952E;&#x662F;&#x7EE7;&#x627F;AbstractProcessor&#xFF0C;&#x5B9E;&#x73B0;process&#x65B9;&#x6CD5;&#x3002; &#x4E0B;&#x9762;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x7684;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#xFF1A; &#x9996;&#x5148;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;Maven&#x652F;&#x6301;&#x7684;Java&#x6807;&#x51C6;&#x5DE5;&#x7A0B;&#xFF0C;&#x65B0;&#x5EFA;&#x8FC7;&#x7A0B;&#x6309;&#x7167;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x987A;&#x5E8F;&#xFF1A; &#x65B0;&#x5EFA;&#x597D;&#x5DE5;&#x7A0B;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x53C8;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5305;&#xFF0C;&#x4E0B;&#x56FE;&#x662F;&#x76EE;&#x524D;&#x7684;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#xFF1A; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;AptAnnotation&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x5176;&#x4E2D;&#x5982;&#x679C;@Target &#x548C;@Retention&#x4E0D;&#x4E86;&#x89E3;&#x7684;&#x53EF;&#x4EE5;&#x53BB; Java&#x6CE8;&#x89E3;&#x4E00; &#x8FDB;&#x884C;&#x4E86;&#x89E3; 1234567891011121314151617181920 package iuni.life; import java.lang.annotation.ElementType; import java.lang.annotation.Retention; import java.lang.annotation.RetentionPolicy; import java.lang.annotation.Target; /*** Created by iuni.life on 16/8/30.* yangfei&apos;s computer*/@Target({ElementType.TYPE, ElementType.METHOD, ElementType.FIELD})@Retention(RetentionPolicy.SOURCE)public @interface AptAnnotation { String author() default &quot;iuni.life&quot;; String date(); int version() default 1;} &#x200B; &#x7EE7;&#x627F;AbstractProcessor&#xFF0C;&#x5B9E;&#x73B0;process &#x65B0;&#x5EFA;&#x4E00;&#x4E2A;AptAnnotationProcessor.class&#x5E76;&#x7EE7;&#x627F;&#x81EA;AbstractProcessor&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x201D;Usage of API documented as @since 1.6+&#x201D; &#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x51FA;&#x73B0;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x5C31;&#x8981;&#x4FEE;&#x6539;&#x8BED;&#x8A00;&#x7B49;&#x7EA7;&#xFF0C;&#x8BED;&#x8A00;&#x7B49;&#x7EA7;&#x4FEE;&#x6539;&#x6210;1.6&#x4EE5;&#x4E0A;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x4FEE;&#x6539;&#x6210;1.7&#xFF08;&#x56E0;&#x4E3A;&#x662F;&#x5728;Android studio&#x6D4B;&#x8BD5;&#xFF0C;&#x800C;Android studio&#x4E2D;&#x652F;&#x6301;Java8&#x7684;jack&#x7F16;&#x8BD1;&#x5668;&#x5E76;&#x4E0D;&#x652F;&#x6301;apt&#x63D2;&#x4EF6;&#xFF09;&#xFF0C;&#x5982;&#x4E0B;&#x662F;&#x4FEE;&#x6539;&#x6D41;&#x7A0B;: &#x200B; &#x70B9;&#x51FB;Apply,OK &#x5373;&#x53EF;&#x3002; &#x81F3;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x653E;&#x5FC3;&#x7684;&#x5199;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x4E86;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x4EE3;&#x7801;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596package iuni.life;import javax.annotation.processing.*;import javax.lang.model.SourceVersion;import javax.lang.model.element.Element;import javax.lang.model.element.PackageElement;import javax.lang.model.element.TypeElement;import javax.tools.Diagnostic;import javax.tools.JavaFileObject;import java.io.IOException;import java.io.PrintWriter;import java.io.Writer;import java.util.Set;/*** Created by iuni.life on 16/8/30.* yangfei&apos;s computer*///&#x652F;&#x6301;&#x7684;&#x6CE8;&#x89E3;&#x7C7B;&#x578B;,&#x6B64;&#x5904;&#x8981;&#x586B;&#x5199;&#x5168;&#x540D;@SupportedAnnotationTypes(&quot;iuni.life.AptAnnotation&quot;)////&#x652F;&#x6301;&#x7684;JDk&#x7248;&#x672C;,&#x6211;&#x7528;&#x7684;&#x662F;1.7@SupportedSourceVersion(SourceVersion.RELEASE_7)public class AptAnnotationProcessor extends AbstractProcessor { //&#x7C7B;&#x540D;&#x7684;&#x524D;&#x7F00;&#x3001;&#x540E;&#x7F00; public static final String SUFFIX = &quot;AutoGenerate&quot;; public static final String PREFIX = &quot;My_&quot;; public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) { for (TypeElement typeElement : annotations) { for (Element e : roundEnv.getElementsAnnotatedWith(typeElement)) { //&#x51C6;&#x5907;&#x5728;gradle&#x7684;&#x63A7;&#x5236;&#x53F0;&#x6253;&#x5370;&#x4FE1;&#x606F; Messager messager = processingEnv.getMessager(); //&#x6253;&#x5370; messager.printMessage(Diagnostic.Kind.NOTE, &quot;Printing:&quot; + e.toString()); messager.printMessage(Diagnostic.Kind.NOTE, &quot;Printing:&quot; + e.getSimpleName()); messager.printMessage(Diagnostic.Kind.NOTE, &quot;Printing:&quot; + e.getEnclosedElements().toString()); //&#x83B7;&#x53D6;&#x6CE8;&#x89E3; AptAnnotation annotation = e.getAnnotation(AptAnnotation.class); //&#x83B7;&#x53D6;&#x5143;&#x7D20;&#x540D;&#x5E76;&#x5C06;&#x5176;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199; String name = e.getSimpleName().toString(); char c = Character.toUpperCase(name.charAt(0)); name = String.valueOf(c + name.substring(1)); //&#x5305;&#x88F9;&#x6CE8;&#x89E3;&#x5143;&#x7D20;&#x7684;&#x5143;&#x7D20;, &#x4E5F;&#x5C31;&#x662F;&#x5176;&#x7236;&#x5143;&#x7D20;, &#x6BD4;&#x5982;&#x6CE8;&#x89E3;&#x4E86;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x6216;&#x8005;&#x6210;&#x5458;&#x51FD;&#x6570;, &#x5176;&#x4E0A;&#x5C42;&#x5C31;&#x662F;&#x8BE5;&#x7C7B; Element enclosingElement = e.getEnclosingElement(); //&#x83B7;&#x53D6;&#x7236;&#x5143;&#x7D20;&#x7684;&#x5168;&#x7C7B;&#x540D;,&#x7528;&#x6765;&#x751F;&#x6210;&#x62A5;&#x540D; String enclosingQualifiedname; if (enclosingElement instanceof PackageElement) { enclosingQualifiedname = ((PackageElement) enclosingElement).getQualifiedName().toString(); } else { enclosingQualifiedname = ((TypeElement) enclosingElement).getQualifiedName().toString(); } try { //&#x751F;&#x6210;&#x5305;&#x540D; String generatePackageName = enclosingQualifiedname.substring(0, enclosingQualifiedname.lastIndexOf(&quot;.&quot;)); // &#x751F;&#x6210;&#x7684;&#x7C7B;&#x540D; String genarateClassName = PREFIX + enclosingElement.getSimpleName() + SUFFIX; //&#x521B;&#x5EFA;Java &#x6587;&#x4EF6; JavaFileObject f = processingEnv.getFiler().createSourceFile(genarateClassName); // &#x5728;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x8DEF;&#x5F84; messager.printMessage(Diagnostic.Kind.NOTE, &quot;Printing: &quot; + f.toUri()); Writer w = f.openWriter(); try { PrintWriter pw = new PrintWriter(w); pw.println(&quot;package &quot; + generatePackageName + &quot;;&quot;); pw.println(&quot;\\npublic class &quot; + genarateClassName + &quot; { &quot;); pw.println(&quot;\\n /** &#x6253;&#x5370;&#x503C; */&quot;); pw.println(&quot; public static void print&quot; + name + &quot;() {&quot;); pw.println(&quot; // &#x6CE8;&#x89E3;&#x7684;&#x7236;&#x5143;&#x7D20;: &quot; + enclosingElement.toString()); pw.println(&quot; System.out.println(\\&quot;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7684;&#x8DEF;&#x5F84;: &quot; + f.toUri() + &quot;\\&quot;);&quot;); pw.println(&quot; System.out.println(\\&quot;&#x6CE8;&#x89E3;&#x7684;&#x5143;&#x7D20;: &quot; + e.toString() + &quot;\\&quot;);&quot;); pw.println(&quot; System.out.println(\\&quot;&#x6CE8;&#x89E3;&#x7684;&#x7248;&#x672C;: &quot; + annotation.version() + &quot;\\&quot;);&quot;); pw.println(&quot; System.out.println(\\&quot;&#x6CE8;&#x89E3;&#x7684;&#x4F5C;&#x8005;: &quot; + annotation.author() + &quot;\\&quot;);&quot;); pw.println(&quot; System.out.println(\\&quot;&#x6CE8;&#x89E3;&#x7684;&#x65E5;&#x671F;: &quot; + annotation.date() + &quot;\\&quot;);&quot;); pw.println(&quot; }&quot;); pw.println(&quot;}&quot;); pw.flush(); } finally { w.close(); } } catch (IOException e1) { processingEnv.getMessager().printMessage(Diagnostic.Kind.ERROR, e1.toString()); } } } //&#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;ture&#x8868;&#x793A;&#x8BE5;&#x6CE8;&#x89E3;&#x5DF2;&#x7ECF;&#x88AB;&#x5904;&#x7406;, &#x540E;&#x7EED;&#x4E0D;&#x4F1A;&#x518D;&#x6709;&#x5176;&#x4ED6;&#x5904;&#x7406;&#x5668;&#x5904;&#x7406;; &#x8FD4;&#x56DE;false&#x8868;&#x793A;&#x4ECD;&#x53EF;&#x88AB;&#x5176;&#x4ED6;&#x5904;&#x7406;&#x5668;&#x5904;&#x7406;. return true; } } &#x8BF4;&#x660E;: &#x8BE5;&#x6BB5;&#x4EE3;&#x7801;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x89E3;&#x6790;&#x6CE8;&#x89E3;&#x5E76;&#x83B7;&#x53D6;&#x9700;&#x8981;&#x7684;&#x503C;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;JavaFileObject&#x751F;&#x6210;&#x76F8;&#x5173;&#x7684;Java&#x4EE3;&#x7801;&#x3002; &#x73B0;&#x5728;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x751F;&#x6210;Jar&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;pom.xml,&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x7684;pom.xml&#x9700;&#x8981;&#x518D;&#x6DFB;&#x52A0;jar&#xFF0C;&#x548C;maven-compiler-plugin,&#x4FEE;&#x6539;&#x540E;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; 1234567891011121314151617181920212223242526&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;iuni.life&lt;/groupId&gt; &lt;artifactId&gt;iuni&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.6&lt;/source&gt; &lt;target&gt;1.6&lt;/target&gt; &lt;!-- Disable annotation processing for ourselves. --&gt; &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; &#x6253;&#x6210;jar&#x6587;&#x4EF6;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#x56FE;&#x6D41;&#x7A0B;&#x6240;&#x793A;: javaApt5 javaApt8 &#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x5E94;&#x8BE5;&#x662F;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5728;resources&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x65B0;&#x5EFA;META-INF/services/javax.annotation.processing.Processor&#x6587;&#x4EF6;&#xFF0C;&#x5728;META-INF&#x4E2D;&#x663E;&#x793A;&#x6807;&#x8BC6;&#xFF0C;&#x4EE5;&#x4FBF;AptAnnotationProcessor&#x88AB;&#x4F7F;&#x7528;,(&#x5176;&#x4E2D;services&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x65B0;&#x5EFA;Directory) javaApt11 &#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x5E94;&#x8BE5;&#x662F;&#x8FD9;&#x6837;&#xFF1A; &#x5728;javax.annotation.processing.Processor&#x4E2D;&#x5199;&#x5165;&#x6211;&#x4EEC;&#x7684;AptAnnotationProcessor&#x5B8C;&#x6574;&#x540D;&#x79F0;&#xFF1A;&#x201C;iuni.life.AptAnnotationProcessor&#x201D;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x6267;&#x884C;&#x201C;Make Project&#x201D; &#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x5982;&#x51FA;&#x73B0;&#x201C;Error:java: Compilation failed: internal java compiler error&#x201D;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x53BB;&#x4FEE;&#x6539;&#x9879;&#x76EE;&#x7684;JDK&#x7248;&#x672C;,&#x8BE6;&#x89C1;&#x4E0B;&#x56FE;: &#x82E5;&#x51FA;&#x73B0;&#x201D;javax.annotation.processing.Processor: Provider me.generator.GenerateInterfaceProcessor not found&#x201C;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5C06;javax.annotation.processing.Processor&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5220;&#x6389;&#xFF0C;&#x7136;&#x540E;make&#x4E24;&#x6B21;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x52A0;&#x5165;&#x539F;&#x6765;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x5728;make&#x3002; &#x751F;&#x6210;jar&#x6587;&#x4EF6; &#x5728;&#x6267;&#x884C;&#x6B65;&#x9AA4;7&#x65E0;&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x5728;&#x5982;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;jar&#x5305;&#xFF1A; javaApt15 &#x4F7F;&#x7528;Android Studio&#x9A8C;&#x8BC1;&#x751F;&#x6210;&#x7684;jar&#x5305; &#x4F7F;&#x7528;android Studio&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x9879;&#x76EE;&#xFF0C;&#x628A;&#x751F;&#x6210;&#x7684;JavaAptAnnotation.jar&#x62F7;&#x8D1D;&#x5230;&#x6D4B;&#x8BD5;&#x9879;&#x76EE;&#x7684;libs,&#x5E76;add as library&#x81F3;&#x8BE5;&#x6D4B;&#x8BD5;&#x9879;&#x76EE;&#x3002; &#x4E3A;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6D4B;&#x8BD5;&#x9879;&#x76EE;&#x7684;gradle &#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x914D;&#x7F6E;: &#x9879;&#x76EE;&#x6839;&#x76EE;&#x5F55;gradle&#x4E2D;build.gradle&#x7684;dependencies&#x6DFB;&#x52A0;&#xFF1A;&#x201C;classpath &#x2018;com.neenbedankt.gradle.plugins:android-apt:1.8&#x2019; &#x201D; &#x6267;&#x884C;&#x5B8C;&#x4E0A;&#x8FF0;&#x6B65;&#x9AA4;&#x4E4B;&#x540E;&#x7684;build.gradle&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x540C;&#x6837;&#x4E5F;&#x8981;&#x5BF9;Moudle&#x7684;build.gradle&#x8FDB;&#x884C;&#x914D;&#x7F6E; &#x9996;&#x5148;&#x5F15;&#x5165;Android-apt &#x63D2;&#x4EF6;&#xFF0C;&#x5373;&#x5728;Moudle&#x7684;build.gradle&#x52A0;&#x5165;&#xFF1A; apply plugin: &#x2018;android-apt&#x2019; &#x6267;&#x884C;&#x5B8C;&#x4E0A;&#x8FF0;&#x6B65;&#x9AA4;&#x4E4B;&#x540E;&#x7684;Moudle&#x7684;build.gradle&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x7F16;&#x5199;&#x6D4B;&#x8BD5;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x5728;MainActivity&#x4E2D;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 123456789101112131415161718package com.yf.androidannotation;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import iuni.life.AptAnnotation;public class MainActivity extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); test(); } @AptAnnotation(author = &quot;iuni&quot;,date = &quot;2016-08-31&quot;,version = 1) public void test(){}} make Project&#x5F53;&#x524D;&#x9879;&#x76EE;&#xFF0C;&#x4F1A;&#x5728;&#x5982;&#x4E0B;&#x56FE;&#x627E;&#x5230;&#x751F;&#x6210;&#x7684;java&#x6587;&#x4EF6;&#xFF1A; &#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#x4E86; 12345678910111213141516171819202122package com.yf.androidannotation;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import com.yf.androidannotation.My_MainActivityAutoGenerate;import iuni.life.AptAnnotation;public class MainActivity extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); test(); } @AptAnnotation(author = &quot;iuni&quot;,date = &quot;2016-08-31&quot;,version = 1) public void test(){ My_MainActivityAutoGenerate.printTest(); }} &#x8FD0;&#x884C;&#x6D4B;&#x8BD5;,&#x5728;LogCat&#x4E2D;&#x4F1A;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x6709;&#x5173;Java&#x6CE8;&#x89E3;&#x7684;&#x8C03;&#x8BD5;&#x8BE6;&#x89C1;Java &#x6CE8;&#x89E3;&#x4E09; &#x540E;&#x8BB0;&#x6587;&#x7AE0;&#x6709;&#x4E0D;&#x8DB3;&#x4E4B;&#x540E;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x6559;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002; &#x200B;","categories":[],"tags":[{"name":"Java进阶","slug":"Java进阶","permalink":"http://iplugin.cn/tags/Java进阶/"}],"keywords":[]},{"title":"Java注解一","slug":"Java注解一","date":"2016-08-30T05:15:43.000Z","updated":"2016-09-05T04:37:09.000Z","comments":true,"path":"2016/08/30/Java注解一/","link":"","permalink":"http://iplugin.cn/2016/08/30/Java注解一/","excerpt":"&#x6458;&#x8981;&#xFF1A; &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x5185;&#x5BB9;&#x6709;&#xFF1A;Java&#x6CE8;&#x89E3;&#x7684;&#x4ECB;&#x7ECD;&#x3001;&#x57FA;&#x672C;&#x8BED;&#x6CD5;&#x3001;&#x53CD;&#x5C04;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x3002;","text":"&#x6458;&#x8981;&#xFF1A; &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x5185;&#x5BB9;&#x6709;&#xFF1A;Java&#x6CE8;&#x89E3;&#x7684;&#x4ECB;&#x7ECD;&#x3001;&#x57FA;&#x672C;&#x8BED;&#x6CD5;&#x3001;&#x53CD;&#x5C04;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x3002; &#x524D;&#x8A00;&#x200B; &#x6B63;&#x6240;&#x8C13;&#x53EA;&#x8981;&#x529F;&#x592B;&#x6DF1;&#xFF0C;&#x94C1;&#x6775;&#x78E8;&#x6210;&#x9488;&#xFF0C;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6C34;&#x6EF4;&#x77F3;&#x7A7F;&#x3002;&#x5B66;&#x4E60;&#x4E5F;&#x8981;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#xFF0C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4EE5;&#x91CF;&#x53D8;&#x4FC3;&#x6210;&#x8D28;&#x53D8;&#x3002;&#x5728;&#x524D;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x597D;&#x826F;&#x597D;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x4E0D;&#x6025;&#x4E0D;&#x71E5;&#xFF0C;&#x811A;&#x8E0F;&#x5B9E;&#x5730;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x4E2A;&#x811A;&#x5370;&#x3002; &#x6CE8;&#x89E3;&#x7684;&#x4ECB;&#x7ECD;&#x200B; &#x6CE8;&#x89E3;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x5143;&#x6570;&#x636E;&#xFF0C;&#x662F;Java SE5&#x5F15;&#x5165;&#x7684;&#x91CD;&#x8981;&#x7684;&#x8BED;&#x8A00;&#x53D8;&#x5316;&#x4E00;&#xFF0C;&#x6CE8;&#x89E3;&#x7684;&#x51FA;&#x73B0;&#x4E3A;&#x6211;&#x4EEC;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x6DFB;&#x52A0;&#x4FE1;&#x606F;&#x63D0;&#x4F9B;&#x6765;&#x4E86;&#x4E00;&#x79CD;&#x5F62;&#x5F0F;&#x5316;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4F7F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x7A0D;&#x540E;&#x7684;&#x67D0;&#x4E2A;&#x65F6;&#x523B;&#x65B9;&#x4FBF;&#x7684;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x3002; &#x6CE8;&#x89E3;&#x7684;&#x4F5C;&#x7528; &#x751F;&#x6210;&#x63CF;&#x8FF0;&#x7B26;&#x6587;&#x4EF6;&#x3002; &#x65B0;&#x7684;&#x7C7B;&#x5B9A;&#x4E49;&#x3002; &#x51CF;&#x8F7B;&#x7F16;&#x5199;&#x201C;&#x6837;&#x677F;&#x201D;&#x4EE3;&#x7801;&#x7684;&#x8D1F;&#x62C5;&#x3002; &#x4F7F;&#x4EE3;&#x7801;&#x5E72;&#x51C0;&#x6613;&#x8BFB;&#x3002; &#x53EF;&#x4EE5;&#x5728;&#x7F16;&#x8BD1;&#x671F;&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x3002; &#x3002;&#x3002;&#x3002;&#x3002;&#x3002;&#x3002; &#x6807;&#x51C6;&#x6CE8;&#x89E3;&#x200B; Java&#x4E3A;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x4E09;&#x79CD;&#x6807;&#x51C6;&#x5316;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x89C1;&#x4EE5;&#x4E0B;&#x8868;&#x683C;&#xFF1A; &#x6CE8;&#x89E3;&#x6807;&#x8BC6; &#x4F5C;&#x7528; @Override &#x8868;&#x793A;&#x5F53;&#x524D;&#x7684;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x8986;&#x76D6;&#x8D85;&#x7C7B;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E0D;&#x5C0F;&#x5FC3;&#x62FC;&#x5199;&#x9519;&#x8BEF;&#xFF0C;&#x6216;&#x8005;&#x7B7E;&#x540D;&#x65B9;&#x6CD5;&#x5BF9;&#x4E0D;&#x4E0A;&#x88AB;&#x8986;&#x76D6;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x5C31;&#x4F1A;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x3002; @Deprecated &#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86;&#x6CE8;&#x89E3;&#x4E3A;&#x5B83;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x4FE1;&#x606F; @SuppressWarnings &#x5173;&#x95ED;&#x4E0D;&#x5F53;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x8B66;&#x544A;&#x4FE1;&#x606F; &#x6CE8;&#x89E3;&#x7684;&#x57FA;&#x672C;&#x8BED;&#x6CD5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;Test&#x6CE8;&#x89E3;&#xFF1A; 123456789101112131415package iuni.life;import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;/** * Created by iuni.life on 16/8/29. * yangfei&apos;s computer */@Target(ElementType.METHOD)@Retention(RetentionPolicy.RUNTIME)public @interface Test {} &#x200B; &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6CE8;&#x89E3;&#x7684;&#x5B9A;&#x4E49;&#x548C;&#x63A5;&#x53E3;&#x7684;&#x5B9A;&#x4E49;&#x975E;&#x5E38;&#x76F8;&#x4F3C;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x4E0E;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;Java&#x63A5;&#x53E3;&#x4E00;&#x6837;&#xFF0C;&#x6CE8;&#x89E3;&#x4E5F;&#x4F1A;&#x7F16;&#x8BD1;&#x6210;class&#x6587;&#x4EF6;&#x3002;&#x6CE8;&#x89E3;&#x548C;&#x63A5;&#x53E3;&#x6700;&#x660E;&#x663E;&#x7684;&#x533A;&#x522B;&#x662F;&#x5728;@&#x7B26;&#x53F7;&#x4E0A;&#xFF0C;&#x5373;&#x6CE8;&#x89E3;&#x5B9A;&#x4E49;&#x65F6;&#x4E3A;@interface&#xFF0C;&#x63A5;&#x53E3;&#x4E3A;interface&#x3002; &#x200B; &#x9664;&#x4E86;@&#x7B26;&#x53F7;&#x5916;&#xFF0C;&#x5B9A;&#x4E49;&#x7684;Test&#x6CE8;&#x89E3;&#x66F4;&#x50CF;&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x63A5;&#x53E3;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6CE8;&#x89E3;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x5143;&#x6CE8;&#x89E3;&#xFF0C;&#x5982;@Target&#x548C;@Retention&#x3002;&#x5176;&#x5B9E;&#x5728;Java&#x76EE;&#x524D;&#x5185;&#x7F6E;&#x4E86;&#x4E09;&#x79CD;&#x6807;&#x51C6;&#x6CE8;&#x89E3;&#xFF08;&#x8BE6;&#x89C1;&#x524D;&#x9762;&#x8868;&#x683C;&#xFF09;&#x548C;&#x56DB;&#x79CD;&#x5143;&#x6CE8;&#x89E3;&#x3002;&#x5143;&#x6CE8;&#x89E3;&#x4E13;&#x804C;&#x8D1F;&#x8D23;&#x6CE8;&#x89E3;&#x5176;&#x4ED6;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x4EE5;&#x4E0B;&#x662F;&#x56DB;&#x79CD;&#x5143;&#x6CE8;&#x89E3;&#x7684;&#x4ECB;&#x7ECD;&#xFF1A; &#x200B; &#x5728;&#x6CE8;&#x89E3;&#x4E2D;&#x4E00;&#x822C;&#x90FD;&#x4F1A;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x5143;&#x7D20;&#x4EE5;&#x8868;&#x793A;&#x67D0;&#x4E9B;&#x503C;&#xFF0C;&#x5F53;&#x5206;&#x6790;&#x5904;&#x7406;&#x6CE8;&#x89E3;&#x65F6;&#xFF0C;&#x7A0B;&#x5E8F;&#x6216;&#x8005;&#x5DE5;&#x5177;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E9B;&#x503C;&#x3002;&#x6CE8;&#x89E3;&#x7684;&#x5143;&#x7D20;&#x770B;&#x8D77;&#x6765;&#x5C31;&#x50CF;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x533A;&#x522B;&#x5C31;&#x662F;&#x4F60;&#x53EF;&#x4EE5;&#x4E3A;&#x5176;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x503C;&#x3002; &#x200B; &#x6CA1;&#x6709;&#x5143;&#x7D20;&#x7684;&#x6CE8;&#x89E3;&#x79F0;&#x4E3A;&#x6807;&#x8BB0;&#x6CE8;&#x89E3; &#xFF0C;&#x4E0A;&#x4F8B;&#x5B9A;&#x4E49;&#x7684;Test&#x6CE8;&#x89E3;&#x5C31;&#x662F;&#x6807;&#x8BB0;&#x6CE8;&#x89E3;&#x3002; &#x200B; &#x5728;Java&#x4E2D;&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x4E00;&#x822C;&#x662F;&#x6309;&#x7167;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#xFF1A;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#x2014;&gt;&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x2014;&gt;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x3002;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x7528;&#x53CD;&#x5C04;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#xFF0C;&#x53E6;&#x4E00;&#x79CD;&#x5219;&#x662F;&#x4F7F;&#x7528;apt&#x5DE5;&#x5177;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4F8B;&#x5B50;&#x6765;&#x5B66;&#x4E60;&#x8FD9;&#x4E24;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x3002; &#x7F16;&#x5199;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#x200B; &#x5728;&#x7F16;&#x5199;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053;&#x6CE8;&#x89E3;&#x7684;&#x4E00;&#x4E9B;&#x89C4;&#x5219;&#xFF1B; &#x6CE8;&#x89E3;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x5143;&#x7D20; &#x6240;&#x6709;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#xFF08;int&#x3001;float&#x3001;boolean&#x7B49;&#xFF09;&#x3002; String Class enum Annotation &#x4EE5;&#x4E0A;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x7EC4; &#x9ED8;&#x8BA4;&#x503C;&#x9650;&#x5236; &#x7F16;&#x8BD1;&#x5668;&#x5BF9;&#x5143;&#x7D20;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x6709;&#x4E9B;&#x8FC7;&#x5206;&#x6311;&#x5254;&#xFF0C;&#x9996;&#x5148;&#x5143;&#x7D20;&#x4E0D;&#x80FD;&#x6709;&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#x503C;&#xFF0C;&#x5373;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x8981;&#x4E48;&#x6709;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x8981;&#x4E48;&#x5728;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x7684;&#x65F6;&#x5019;&#x63D0;&#x4F9B;&#x5143;&#x7D20;&#x7684;&#x503C;&#x3002; &#x5176;&#x6B21;&#xFF0C;&#x5BF9;&#x4E8E;&#x975E;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x5728;&#x6E90;&#x7801;&#x58F0;&#x660E;&#x65F6;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x5728;&#x6CE8;&#x89E3;&#x63A5;&#x53E3;&#x4E2D;&#x5B9A;&#x4E49;&#x9ED8;&#x8BA4;&#x503C;&#x65F6;&#xFF0C;&#x90FD;&#x4E0D;&#x80FD;&#x7528;null&#x4F5C;&#x4E3A;&#x5176;&#x503C;&#x3002;&#x8FD9;&#x4E2A;&#x7EA6;&#x675F;&#x4F7F;&#x5F97;&#x5904;&#x7406;&#x5668;&#x5F88;&#x96BE;&#x8868;&#x73B0;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x5B58;&#x5728;&#x6216;&#x8005;&#x7F3A;&#x5931;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x6BCF;&#x4E2A;&#x6CE8;&#x89E3;&#x7684;&#x58F0;&#x660E;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5143;&#x7D20;&#x90FD;&#x5B58;&#x5728;&#x5E76;&#x4E14;&#x5177;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x600E;&#x4E48;&#x6837;&#x8868;&#x73B0;&#x5143;&#x7D20;&#x7684;&#x5B58;&#x5728;&#x6216;&#x7F3A;&#x5931;&#x72B6;&#x6001;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x503C;&#xFF0C;&#x4F8B;&#x5982;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;&#x8D1F;&#x6570;&#xFF0C;&#x7528;&#x4EE5;&#x8868;&#x793A;&#x67D0;&#x4E2A;&#x5143;&#x7D20;&#x4E0D;&#x5B58;&#x5728;&#x3002; &#x6CE8;&#x89E3;&#x4E0D;&#x652F;&#x6301;&#x7EE7;&#x627F; &#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57;extends&#x6765;&#x7EE7;&#x627F;&#x67D0;&#x4E2A;@interface&#x3002; &#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x6CD5;&#x4E0D;&#x80FD;&#x6709;&#x53C2;&#x6570; &#x4F7F;&#x7528;&#x53CD;&#x5C04;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;ReflectAnnotation&#x6CE8;&#x89E3;: 123456789101112131415161718192021package iuni.life;import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;/*** Created by iuni.life on 16/8/29.* yangfei&apos;s computer*/@Target(ElementType.METHOD)@Retention(RetentionPolicy.RUNTIME)public @interface ReflectAnnotation { String author() default &quot;iuni.life&quot;; String date(); int version() default 1; } &#x4F7F;&#x7528;&#x53CD;&#x5C04;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#xFF1A; 123456789101112131415161718192021222324 package iuni.life; import java.lang.reflect.Method; /*** Created by iuni.life on 16/8/29.* yangfei&apos;s computer*/public class ReflecAnnotationTracker { public static void trackerReflectAnnotation(Class&lt;?&gt; cl) { //getDeclaredMethods &#x53CD;&#x5C04;&#x65B9;&#x6CD5;,&#x83B7;&#x53D6;cl&#x7C7B;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x65B9;&#x6CD5; for (Method method : cl.getDeclaredMethods()) { //getAnnotation()&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x7684;&#x7C7B;&#x578B;&#x7684;&#x6CE8;&#x89E3;&#x5BF9;&#x8C61;,&#x8FD9;&#x91CC;&#x5C31;&#x662F;ReflectAnnotation.class,&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BE5;&#x7C7B;&#x578B;&#x7684;&#x6CE8;&#x89E3;&#x5219;&#x8FD4;&#x56DE;null ReflectAnnotation reflectAnnotation = method.getAnnotation(ReflectAnnotation.class); if (reflectAnnotation != null) { sys(&quot;ReflectAnnotation:---&gt;author:&quot; + reflectAnnotation.author() + &quot;,date:&quot; + reflectAnnotation.date() + &quot;,version:&quot; + reflectAnnotation.version()); } } } public static void sys(String detail) { System.out.println(detail); } } &#x200B; &#x6D4B;&#x8BD5;&#x7C7B;&#xFF1A; 123456789101112131415161718192021222324252627282930 package iuni.life; import java.text.SimpleDateFormat; import java.util.Date; /*** Created by iuni.life on 16/8/29.* yangfei&apos;s computer*/public class Client { public static void main(String[] args) { ReflecAnnotationTracker.trackerReflectAnnotation(Client.class); } @ReflectAnnotation(author = &quot;www.iuni.life&quot;, date = &quot;2016-08-27&quot;, version = 1) public void allTest() { } //&#x56E0;&#x4E3A;author&#x63D0;&#x4F9B;&#x4E86;&#x9ED8;&#x8BA4;&#x503C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x4E0D;&#x4F7F;&#x7528; @ReflectAnnotation(date = &quot;2016-08-28&quot;, version = 2) protected void test1() { } //&#x56E0;&#x4E3A;author&#x3001;version&#x63D0;&#x4F9B;&#x4E86;&#x9ED8;&#x8BA4;&#x503C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x4E0D;&#x4F7F;&#x7528; &#x56E0;&#x4E3A;Date&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x9ED8;&#x8BA4;&#x503C;,&#x6240;&#x4EE5;&#x5FC5;&#x987B;&#x5BF9;date&#x8FDB;&#x884C;&#x8D4B;&#x503C; @ReflectAnnotation(date = &quot;2016-08-28&quot;) private void test2() { } } &#x8FD0;&#x884C;Client&#x7C7B;&#x7684;&#x7ED3;&#x679C;&#xFF1A; &#x8BF4;&#x660E;&#xFF1A; &#x200B; &#x4F7F;&#x7528;&#x53CD;&#x5C04;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x6700;&#x597D;&#x8FD8;&#x662F;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;Java&#x53CD;&#x5C04;&#x65B9;&#x9762;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x8FD9;&#x91CC;&#x5217;&#x4E3E;&#x7684;&#x4F8B;&#x5B50;&#x53EA;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x53EA;&#x662F;&#x8D77;&#x5230;&#x4E86;&#x6211;&#x4EEC;&#x600E;&#x4E48;&#x4F7F;&#x7528;&#x53CD;&#x5C04;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;Java&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x7684;&#x4F5C;&#x7528;&#x3002; &#x56E0;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;apt&#x5B9E;&#x73B0;&#x6CE8;&#x89E3;&#x5904;&#x7406;&#x5668;&#x8BE6;&#x89C1; Java&#x6CE8;&#x89E3;&#x4E8C;&#x3002; &#x540E;&#x8BB0;&#x6587;&#x7AE0;&#x6709;&#x4E0D;&#x8DB3;&#x4E4B;&#x540E;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x6559;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002;","categories":[],"tags":[{"name":"Java进阶","slug":"Java进阶","permalink":"http://iplugin.cn/tags/Java进阶/"}],"keywords":[]},{"title":"观察者模式","slug":"观察者模式","date":"2016-08-29T08:19:08.000Z","updated":"2017-06-14T14:09:33.000Z","comments":true,"path":"2016/08/29/观察者模式/","link":"","permalink":"http://iplugin.cn/2016/08/29/观察者模式/","excerpt":"&#x6458;&#x8981;: &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x3002;","text":"&#x6458;&#x8981;: &#x672C;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x3002; [TOC] &#x524D;&#x8A00;&#x200B; &#x5F53;&#x5FC3;&#x6D6E;&#x6C14;&#x8E81;&#x65F6;&#xFF0C;&#x544A;&#x8BEB;&#x81EA;&#x5DF1;&#x8981;&#x9759;&#x4E0B;&#x5FC3;&#x6765;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x6765;&#xFF0C;&#x4E0D;&#x8981;&#x6025;&#x4E0D;&#x8981;&#x71E5;&#x3002; &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4ECB;&#x7ECD;&#x200B; &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4E5F;&#x53EB;&#x505A;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x884C;&#x4E3A;&#x578B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x6700;&#x5E38;&#x7528;&#x7684;&#x5730;&#x65B9;&#x662F;GUI&#x7CFB;&#x7EDF;&#x3001;&#x8BA2;&#x9605;&#x2014;&#x2014;&#x2014;&#x53D1;&#x5E03;&#x7CFB;&#x7EDF;&#x3002;&#x5C24;&#x5176;&#x662F;GUI&#x7CFB;&#x7EDF;&#xFF0C;&#x4F7F;&#x7528;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x4F7F;UI&#x5C42;&#x4E0E;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x89E3;&#x8026;&#x3002; &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;&#x200B; &#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x95F4;&#x4E00;&#x79CD;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x4F7F;&#x5F97;&#x6BCF;&#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6539;&#x53D8;&#x72B6;&#x6001;&#x3002;&#x5219;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x4E8E;&#x5B83;&#x7684;&#x5BF9;&#x8C61;&#x90FD;&#x4F1A;&#x5F97;&#x5230;&#x901A;&#x77E5;&#x5E76;&#x88AB;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#x3002; &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x5173;&#x8054;&#x884C;&#x4E3A;&#x573A;&#x666F; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5173;&#x8054;&#x884C;&#x4E3A;&#x662F;&#x53EF;&#x4EE5;&#x62C6;&#x5206;&#x7684;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x201C;&#x7EC4;&#x5408;&#x201D;&#x5173;&#x7CFB;&#x3002; &#x4E8B;&#x4EF6;&#x591A;&#x7EA7;&#x89E6;&#x53D1;&#x573A;&#x666F;&#x3002; &#x8DE8;&#x7CFB;&#x7EDF;&#x7684;&#x6D88;&#x606F;&#x4EA4;&#x6362;&#x573A;&#x666F;&#xFF0C;&#x5982;&#x6D88;&#x606F;&#x961F;&#x5217;&#x3001;&#x4E8B;&#x4EF6;&#x603B;&#x7EBF;&#x7684;&#x5904;&#x7406;&#x673A;&#x5236;&#x3002; &#x200B; &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x901A;&#x7528;UML&#x7C7B;&#x56FE; &#x8BF4;&#x660E;: Subject &#x88AB;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x62BD;&#x8C61;&#x7C7B;&#x6216;&#x8005;&#x662F;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x662F;&#x7BA1;&#x7406;&#x89C2;&#x5BDF;&#x8005;&#xFF08;&#x52A8;&#x6001;&#x7684;&#x589E;&#x52A0;&#x3001;&#x53D6;&#x6D88;&#x89C2;&#x5BDF;&#x8005;&#xFF09;&#x5E76;&#x4E14;&#x901A;&#x77E5;&#x89C2;&#x5BDF;&#x8005;&#x3002; ConCreteSubject &#x5177;&#x4F53;&#x7684;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x5B9A;&#x4E49;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x540C;&#x65F6;&#x5B9A;&#x4E49;&#x5BF9;&#x54EA;&#x4E9B;&#x4E8B;&#x4EF6;&#x8FDB;&#x884C;&#x901A;&#x77E5;&#x3002; Observer &#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x62BD;&#x8C61;&#x7C7B;&#x6216;&#x8005;&#x662F;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x5BF9;&#x63A5;&#x6536;&#x5230;&#x7684;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002; ConcreteObserver &#x5177;&#x4F53;&#x7684;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x901A;&#x8FC7;&#x63A5;&#x6536;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5B9E;&#x73B0;&#x5404;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x3002; &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x200B; &#x73B0;&#x5728;&#x6709;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x9700;&#x6C42;&#xFF1A;&#x5728;Android&#x7684;&#x4E00;&#x4E2A;&#x754C;&#x9762;&#x4E0A;&#xFF0C;&#x6709;&#x4E09;&#x4E2A;&#x63A7;&#x4EF6;&#xFF0C;&#x5206;&#x522B;&#x4E3A;Edittext,TextView,ImageView&#xFF0C;&#x5F53;EditText&#x6309;&#x4E0B;&#x952E;&#x76D8;&#x7684;&#x56DE;&#x8F66;&#x952E;&#xFF08;&#x6216;&#x8005;&#x786E;&#x8BA4;&#x952E;&#xFF09;&#x65F6;&#xFF0C;TextView&#x663E;&#x793A;EditText&#x8F93;&#x5165;&#x7684;&#x6587;&#x5B57;&#xFF0C;ImageView&#x6839;&#x636E;&#x8F93;&#x5165;&#x7684;&#x6587;&#x5B57;&#x663E;&#x793A;&#x76F8;&#x5E94;&#x7684;&#x56FE;&#x7247;&#x3002;&#x5982;&#x679C;&#x8FD0;&#x7528;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x53BB;&#x505A;&#x7684;&#x8BDD;&#xFF0C;EditText&#x662F;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;TextView&#x548C;ImageView&#x662F;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x5F53;EditText&#x8F93;&#x5165;&#x7684;&#x65F6;&#x5019;&#x6309;&#x4E0B;&#x56DE;&#x8F66;&#x952E;&#xFF0C;ImageView&#x548C;TextView&#x901A;&#x8FC7;&#x63A5;&#x53D7;&#x7684;&#x4FE1;&#x606F;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x5904;&#x7406;&#x3002;&#x4E0B;&#x9762;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E0B;&#x3002; &#x91CD;&#x5199;EditText&#xFF0C;&#x4F7F;&#x5176;&#x6210;&#x4E3A;&#x88AB;&#x89C2;&#x5BDF;&#x8005; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768package com.yf.designpatternandroid;import android.content.Context;import android.util.AttributeSet;import android.view.KeyEvent;import android.view.inputmethod.EditorInfo;import android.widget.EditText;import android.widget.TextView;import java.util.Observable;import java.util.Observer; /** * Created by iuni.life on 16/9/7. * yangfei&apos;s computer. */public class MyEditText extends EditText { //&#x4F7F;&#x7528;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x88AB;&#x89C2;&#x5BDF;&#x8005; private Content content; public MyEditText(Context context) { super(context); } public MyEditText(final Context context, AttributeSet attrs) { super(context, attrs); content = new Content(); //&#x5BF9;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x76D1;&#x542C; setOnEditorActionListener(new OnEditorActionListener() { @Override public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) { if (i == EditorInfo.IME_ACTION_SEARCH || i == EditorInfo.IME_ACTION_DONE || keyEvent.getAction() == KeyEvent.ACTION_DOWN &amp;&amp; keyEvent.getAction() == KeyEvent.KEYCODE_ENTER) { //&#x89E6;&#x53D1;&#x5404;&#x4E2A;Observer content.setEditTextContent(getText().toString()); } return false; } }); } public MyEditText(Context context, AttributeSet attrs, int defStyleAttr) { super(context, attrs, defStyleAttr); } /** * &#x6DFB;&#x52A0;&#x89C2;&#x5BDF;&#x8005; * * @param observer */ public void addObserver(Observer observer) { content.addObserver(observer); } //&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x9700;&#x8981;&#x7EE7;&#x627F;Observable private class Content extends Observable { private String editTextContent; public void setEditTextContent(String editTextContent) { this.editTextContent = editTextContent; //&#x6807;&#x8BC6;&#x72B6;&#x6001;&#x6216;&#x8005;&#x5185;&#x5BB9;&#x53D1;&#x751F;&#x6539;&#x53D8; setChanged(); //&#x901A;&#x77E5;&#x6240;&#x6709;&#x7684;&#x89C2;&#x5BDF;&#x8005; notifyObservers(editTextContent); } } } &#x91CD;&#x5199;TextView&#xFF0C;&#x4F7F;&#x5176;&#x6210;&#x4E3A;&#x89C2;&#x5BDF;&#x8005; 1234567891011121314151617181920212223242526272829303132333435package com.yf.designpatternandroid;import android.content.Context;import android.util.AttributeSet;import android.util.Log;import android.widget.TextView;import java.util.Observable;import java.util.Observer;/** * Created by iuni.life on 16/9/7. * yangfei&apos;s computer. * &#x89C2;&#x5BDF;&#x8005;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;Observer&#xFF0C;&#x5E76;&#x5728;update&#x65B9;&#x6CD5;&#x4E2D;&#x5B9E;&#x73B0;&#x4E1A;&#x52A1;&#x903B;&#x8F91; */public class MyTextView extends TextView implements Observer { public MyTextView(Context context) { super(context); } public MyTextView(Context context, AttributeSet attrs) { super(context, attrs); } public MyTextView(Context context, AttributeSet attrs, int defStyleAttr) { super(context, attrs, defStyleAttr); } @Override public void update(Observable observable, Object o) { Log.d(&quot;MyTextView&quot;, &quot;Observer:MyTextView&#x6536;&#x5230;&#x901A;&#x77E5;:&quot; + o); setText(o.toString()); }} &#x91CD;&#x5199;ImageView&#xFF0C;&#x4F7F;&#x5176;&#x6210;&#x4E3A;&#x89C2;&#x5BDF;&#x8005; 12345678910111213141516171819202122232425262728293031323334353637383940package com.yf.designpatternandroid;import android.content.Context;import android.media.Image;import android.util.AttributeSet;import android.util.Log;import android.widget.ImageView;import java.util.Observable;import java.util.Observer;/** * Created by iuni.life on 16/9/7. * yangfei&apos;s computer. * &#x89C2;&#x5BDF;&#x8005;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;Observer&#xFF0C;&#x5E76;&#x5728;update&#x65B9;&#x6CD5;&#x4E2D;&#x5B9E;&#x73B0;&#x4E1A;&#x52A1;&#x903B;&#x8F91; */public class MyImageView extends ImageView implements Observer { public MyImageView(Context context) { super(context); } public MyImageView(Context context, AttributeSet attrs) { super(context, attrs); } public MyImageView(Context context, AttributeSet attrs, int defStyleAttr) { super(context, attrs, defStyleAttr); } @Override public void update(Observable observable, Object o) { Log.d(&quot;MyImageView&quot;, &quot;Observer:MyImageView&#x6536;&#x5230;&#x901A;&#x77E5;:&quot; + o); String content = o.toString(); if (o.equals(&quot;iuni&quot;)) { setImageResource(R.mipmap.ic_launcher); } else { setImageResource(R.mipmap.test); } }} &#x200B; &#x5728;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x7528;&#x91CD;&#x5199;&#x7684;&#x4E09;&#x4E2A;&#x63A7;&#x4EF6; 1234567891011121314151617181920212223242526272829&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:orientation=&quot;vertical&quot; android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot; android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot; android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot; android:paddingTop=&quot;@dimen/activity_vertical_margin&quot; tools:context=&quot;com.yf.designpatternandroid.MainActivity&quot;&gt; &lt;com.yf.designpatternandroid.MyEditText android:id=&quot;@+id/id_et&quot; android:layout_width=&quot;match_parent&quot; android:singleLine=&quot;true&quot; android:layout_height=&quot;wrap_content&quot; /&gt; &lt;com.yf.designpatternandroid.MyTextView android:id=&quot;@+id/id_tv&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; /&gt; &lt;com.yf.designpatternandroid.MyImageView android:id=&quot;@+id/id_iv&quot; android:layout_width=&quot;200dp&quot; android:layout_height=&quot;200dp&quot; /&gt;&lt;/LinearLayout&gt; &#x200B; &#x6D4B;&#x8BD5;&#x4EE3;&#x7801; 123456789101112131415161718192021222324252627package com.yf.designpatternandroid;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.view.View;import android.widget.AutoCompleteTextView;import android.widget.ImageView;import android.widget.Toast;public class MainActivity extends AppCompatActivity { private MyEditText myEditText; private MyTextView myTextView; private MyImageView myImageView; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); myEditText = (MyEditText) findViewById(R.id.id_et); myImageView = (MyImageView) findViewById(R.id.id_iv); myTextView = (MyTextView) findViewById(R.id.id_tv); myEditText.addObserver(myImageView); myEditText.addObserver(myTextView); }} &#x6548;&#x679C;&#x5C55;&#x793A; &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4F18;&#x7F3A;&#x70B9;&#x4F18;&#x70B9; &#x89C2;&#x5BDF;&#x8005;&#x548C;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x4E4B;&#x95F4;&#x662F;&#x62BD;&#x8C61;&#x8026;&#x5408;&#x3002; &#x53EF;&#x4EE5;&#x5EFA;&#x7ACB;&#x4E00;&#x5957;&#x89E6;&#x53D1;&#x673A;&#x5236;&#x3002; &#x589E;&#x5F3A;&#x7CFB;&#x7EDF;&#x7684;&#x7075;&#x6D3B;&#x6027;&#xFF0C;&#x53EF;&#x62D3;&#x5C55;&#x6027;&#x3002; &#x7F3A;&#x70B9; &#x4E00;&#x4E2A;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x591A;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x548C;&#x8FD0;&#x884C;&#x6548;&#x7387;&#x9700;&#x8981;&#x8003;&#x8651;&#x3002; &#x4E00;&#x4E2A;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x591A;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;&#xFF0C;&#x8C03;&#x8BD5;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x3002; Java&#x4E2D;&#x7684;&#x6D88;&#x606F;&#x901A;&#x77E5;&#x9ED8;&#x8BA4;&#x662F;&#x987A;&#x5E8F;&#x6267;&#x884C;&#xFF0C;&#x4E00;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;&#x5361;&#x58F3;&#xFF0C;&#x4F1A;&#x5F71;&#x54CD;&#x6574;&#x4F53;&#x7684;&#x6267;&#x884C;&#x6548;&#x7387;&#x3002;&#xFF08;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E00;&#x822C;&#x4F1A;&#x91C7;&#x53D6;&#x5F02;&#x6B65;&#x7684;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#xFF09; &#x540E;&#x8BB0;&#x200B; &#x6587;&#x7AE0;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#xFF0C;&#x671B;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x70B9;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599; &lt;&lt;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x8749;&gt;&gt; &#x79E6;&#x5C0F;&#x6CE2; &#x8457; &#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x82E5;&#x60F3;&#x83B7;&#x5F97;&#x66F4;&#x597D;&#x9605;&#x8BFB;&#x4F53;&#x9A8C;&#xFF0C;&#x8BF7;&#x8BBF;&#x95EE;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#xFF1A;iplugin.cn","categories":[],"tags":[{"name":"Java 设计模式","slug":"Java-设计模式","permalink":"http://iplugin.cn/tags/Java-设计模式/"}],"keywords":[]},{"title":"工厂方法模式","slug":"工厂方法模式","date":"2016-08-12T07:32:47.000Z","updated":"2017-06-14T14:21:13.000Z","comments":true,"path":"2016/08/12/工厂方法模式/","link":"","permalink":"http://iplugin.cn/2016/08/12/工厂方法模式/","excerpt":"&#x524D;&#x8A00;&#x200B; &#x6B63;&#x6240;&#x8C13;&#x53EA;&#x8981;&#x529F;&#x592B;&#x6DF1;&#xFF0C;&#x94C1;&#x6775;&#x78E8;&#x6210;&#x9488;&#xFF0C;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6C34;&#x6EF4;&#x77F3;&#x7A7F;&#x3002;&#x5B66;&#x4E60;&#x4E5F;&#x8981;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#xFF0C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4EE5;&#x91CF;&#x53D8;&#x4FC3;&#x6210;&#x8D28;&#x53D8;&#x3002;&#x5728;&#x524D;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x597D;&#x826F;&#x597D;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x4E0D;&#x6025;&#x4E0D;&#x71E5;&#xFF0C;&#x811A;&#x8E0F;&#x5B9E;&#x5730;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x4E2A;&#x811A;&#x5370;&#x3002; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F; &#x4ECB;&#x7ECD;&#x200B; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#xFF08;Factory Pattern&#xFF09;&#x662F;&#x4E00;&#x79CD;&#x521B;&#x5EFA;&#x578B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x662F;&#x65E5;&#x5E38;&#x5F00;&#x53D1;&#x4E2D;&#x4F7F;&#x7528;&#x9891;&#x7387;&#x8F83;&#x9AD8;&#x7684;&#x4E00;&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;&#x4E0B;&#x9762;&#x5C31;&#x8981;&#x6211;&#x4EEC;&#x4E00;&#x8D77;&#x53BB;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;","text":"&#x524D;&#x8A00;&#x200B; &#x6B63;&#x6240;&#x8C13;&#x53EA;&#x8981;&#x529F;&#x592B;&#x6DF1;&#xFF0C;&#x94C1;&#x6775;&#x78E8;&#x6210;&#x9488;&#xFF0C;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6C34;&#x6EF4;&#x77F3;&#x7A7F;&#x3002;&#x5B66;&#x4E60;&#x4E5F;&#x8981;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#xFF0C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4EE5;&#x91CF;&#x53D8;&#x4FC3;&#x6210;&#x8D28;&#x53D8;&#x3002;&#x5728;&#x524D;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x597D;&#x826F;&#x597D;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x4E0D;&#x6025;&#x4E0D;&#x71E5;&#xFF0C;&#x811A;&#x8E0F;&#x5B9E;&#x5730;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x4E2A;&#x811A;&#x5370;&#x3002; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F; &#x4ECB;&#x7ECD;&#x200B; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#xFF08;Factory Pattern&#xFF09;&#x662F;&#x4E00;&#x79CD;&#x521B;&#x5EFA;&#x578B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x662F;&#x65E5;&#x5E38;&#x5F00;&#x53D1;&#x4E2D;&#x4F7F;&#x7528;&#x9891;&#x7387;&#x8F83;&#x9AD8;&#x7684;&#x4E00;&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;&#x4E0B;&#x9762;&#x5C31;&#x8981;&#x6211;&#x4EEC;&#x4E00;&#x8D77;&#x53BB;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F; &#x5B9A;&#x4E49;&#x200B; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x8BA9;&#x5B50;&#x7C7B;&#x51B3;&#x5B9A;&#x5B9E;&#x4F8B;&#x5316;&#x54EA;&#x4E00;&#x4E2A;&#x7C7B;&#x3002;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x4F7F;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x5EF6;&#x8FDF;&#x5230;&#x5176;&#x5B50;&#x7C7B;&#x3002; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F; &#x4F7F;&#x7528;&#x573A;&#x666F; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x662F;new&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x66FF;&#x4EE3;&#x54C1;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6709;&#x9700;&#x8981;&#x751F;&#x6210;&#x5BF9;&#x8C61;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x614E;&#x91CD;&#x7684;&#x8003;&#x8651;&#x5F53;&#x524D;&#x4EFB;&#x52A1;&#x662F;&#x4E0D;&#x662F;&#x9700;&#x8981;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x7C7B;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x907F;&#x514D;&#x4F7F;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7801;&#x66F4;&#x52A0;&#x590D;&#x6742;&#x3002; &#x9700;&#x8981;&#x7075;&#x6D3B;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x6846;&#x67B6;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x91C7;&#x7528;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x3002; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F; &#x901A;&#x7528;UML&#x7C7B;&#x56FE; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;UML&#x7C7B;&#x56FE; &#x8BF4;&#x660E;: Product &#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#xFF0C;&#x7531;&#x5177;&#x4F53;&#x7684;&#x4EA7;&#x54C1;&#x7C7B;&#x53BB;&#x5B9E;&#x73B0;&#x3002; ConcreateProduct &#x5177;&#x4F53;&#x7684;&#x4EA7;&#x54C1;&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x3002;&#x7EE7;&#x627F;&#x4E8E;Product Creator &#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x7C7B;&#xFF0C;&#x8D1F;&#x8D23;&#x5B9A;&#x4E49;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;&#x7684;&#x4EA7;&#x751F;&#x3002; ConcreateCreator &#x5177;&#x4F53;&#x7684;&#x5DE5;&#x5382;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x7EE7;&#x627F;&#x4E8E;Creator&#x3002; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x200B; &#x524D;&#x9762;&#x6211;&#x4EEC;&#x7EC4;&#x88C5;&#x4E86;&#x4E00;&#x53F0;&#x53F0;&#x5F0F;&#x673A;&#x7535;&#x8111;&#xFF0C;&#x73B0;&#x5728;&#x53F0;&#x5F0F;&#x673A;&#x7535;&#x8111;&#x7EC4;&#x88C5;&#x597D;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;&#x7535;&#x8111;&#x4E0A;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F46;&#x662F;&#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#x65E0;&#x975E;&#x5C31;&#x662F;&#x7535;&#x8111;&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x88C5;&#xFF08;linux&#x7CFB;&#x5217;,windows&#x7CFB;&#x5217;&#xFF0C;mac&#x7CFB;&#x5217;&#xFF08;&#x9ED1;&#x82F9;&#x679C;&#xFF09;&#x7B49;&#x7B49;&#xFF09;&#x3001;&#x5404;&#x4E2A;&#x786C;&#x4EF6;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x5B89;&#x88C5;&#x3002; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x6BCF;&#x4E00;&#x79CD;&#x5B89;&#x88C5;&#x7684;&#x7535;&#x8111;&#x7CFB;&#x7EDF;&#x53CA;&#x9A71;&#x52A8;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;&#x7C7B;&#xFF0C;&#x5728;&#x62BD;&#x8C61;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x64CD;&#x4F5C;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x200B; &#x4E0B;&#x9762;&#x5C31;&#x4EE5;&#x6B64;&#x4E3A;&#x4F8B;&#xFF0C;&#x5B9E;&#x73B0;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x3002; &#x62BD;&#x8C61;&#x4EA7;&#x54C1;&#x7C7B;&#x3002; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465package com.yf.designpatternandroid;/*** Created by yangfei on 16/8/15.* yangfei&apos;s computer.*/public abstract class InstallSoftware { /** * &#x5B89;&#x88C5;&#x7CFB;&#x7EDF; * * @param systemOs &#x7CFB;&#x7EDF; */ public abstract void installSystem(String systemOs); /** * &#x5B89;&#x88C5;&#x663E;&#x5361;&#x9A71;&#x52A8; * * @param GPUType &#x663E;&#x5361;&#x578B;&#x53F7; */ public abstract void installGPUDriver(String GPUType); /** * &#x5B89;&#x88C5;&#x4E3B;&#x677F;&#x9A71;&#x52A8; * * @param mainBoxType &#x4E3B;&#x677F;&#x578B;&#x53F7; */ public abstract void installMainBoxdriver(String mainBoxType); /** * &#x5B89;&#x88C5;&#x7F51;&#x5361;&#x9A71;&#x52A8; * * @param netCardType &#x7F51;&#x5361;&#x578B;&#x53F7; */ public abstract void installNetCardDriver(String netCardType); /** * &#x5B89;&#x88C5;&#x58F0;&#x5361;&#x9A71;&#x52A8; * * @param audioType &#x58F0;&#x5361;&#x578B;&#x53F7; */ public abstract void installAudioDriver(String audioType); /** * &#x5B89;&#x88C5;USB&#x9A71;&#x52A8; * @param usbDriverType(3.0,2.0,...) */ public abstract void installUSBDriver(String usbDriverType); /** * &#x5B89;&#x88C5;&#x952E;&#x76D8;&#x9A71;&#x52A8; * @param keyBoardType &#x952E;&#x76D8;&#x578B;&#x53F7; */ public abstract void installKeyBoardDriver(String keyBoardType); /** * &#x5B89;&#x88C5;&#x9F20;&#x6807;&#x9A71;&#x52A8; * @param mouseType &#x9F20;&#x6807;&#x578B;&#x53F7; */ public abstract void installMouseDriver(String mouseType); /** * &#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;&#x5B8C;&#x6210; * @return */ public abstract String finish();} &#x200B; &#x5177;&#x4F53;&#x7684;&#x4EA7;&#x54C1;Windows&#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111;&#x3002; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253 package com.yf.designpatternandroid; /*** Created by iuni.life on 16/8/15.* yangfei&apos;s computer.* &#x5177;&#x4F53;&#x7684;&#x903B;&#x8F91;&#x5C31;&#x4E0D;&#x5904;&#x7406;&#x4E86;*/ public class WindowsSoftware extends InstallSoftware { @Override public void installSystem(String systemOs) { //&#x7CFB;&#x7EDF;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installGPUDriver(String GPUType) { //&#x663E;&#x5361;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installMainBoxdriver(String mainBoxType) { //&#x4E3B;&#x677F;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installNetCardDriver(String netCardType) { //&#x7F51;&#x5361;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installAudioDriver(String audioType) { //&#x58F0;&#x5361;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installUSBDriver(String usbDriverType) { //USB&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installKeyBoardDriver(String keyBoardType) { //&#x952E;&#x76D8;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installMouseDriver(String mouseType) { //&#x9F20;&#x6807;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public String finish() { return &quot;You can use normal Windows PC&quot;; } } &#x5177;&#x4F53;&#x7684;&#x4EA7;&#x54C1;&#x7C7B;&#xFF0C;Ubuntu&#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111;&#x3002; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152package com.yf.designpatternandroid;/*** Created by iuni.life on 16/8/15.* yangfei&apos;s computer.*/public class UbuntuSoftware extends InstallSoftware { @Override public void installSystem(String systemOs) { //&#x7CFB;&#x7EDF;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installGPUDriver(String GPUType) { //&#x663E;&#x5361;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installMainBoxdriver(String mainBoxType) { //&#x4E3B;&#x677F;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installNetCardDriver(String netCardType) { //&#x7F51;&#x5361;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installAudioDriver(String audioType) { //&#x58F0;&#x5361;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installUSBDriver(String usbDriverType) { //USB&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installKeyBoardDriver(String keyBoardType) { //&#x952E;&#x76D8;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installMouseDriver(String mouseType) { //&#x9F20;&#x6807;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public String finish() { return &quot;You can use normal Ubuntu PC&quot;; }} &#x5177;&#x4F53;&#x7684;&#x4EA7;&#x54C1;&#x7C7B;&#xFF0C;Mac &#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111;&#x3002; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152 package com.yf.designpatternandroid; /*** Created by iuni.life on 16/8/15.* yangfei&apos;s computer.*/public class MacSoftware extends InstallSoftware { @Override public void installSystem(String systemOs) { //&#x7CFB;&#x7EDF;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installGPUDriver(String GPUType) { //&#x663E;&#x5361;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installMainBoxdriver(String mainBoxType) { //&#x4E3B;&#x677F;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installNetCardDriver(String netCardType) { //&#x7F51;&#x5361;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installAudioDriver(String audioType) { //&#x58F0;&#x5361;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installUSBDriver(String usbDriverType) { //USB&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installKeyBoardDriver(String keyBoardType) { //&#x952E;&#x76D8;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public void installMouseDriver(String mouseType) { //&#x9F20;&#x6807;&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5904;&#x7406; } @Override public String finish() { return &quot;You can use normal MacOs PC&quot;; }} &#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x7C7B;&#x3002; 123456789 package com.yf.designpatternandroid; /*** Created by iuni.life on 16/8/16.* yangfei&apos;s computer.*/public abstract class Factory { abstract &lt;T extends InstallSoftware&gt; T getComputer(Class&lt;T&gt; clz);} &#x5DE5;&#x5382;&#x7C7B;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x3002; 1234567891011121314151617181920212223242526272829package com.yf.designpatternandroid;/*** Created by iuni.life on 16/8/15.* yangfei&apos;s computer.*/public class ComputerFactory extends Factory { /** * &#x5229;&#x7528;&#x53CD;&#x5C04;&#x65B9;&#x5F0F;&#x751F;&#x4EA7;&#x5177;&#x4F53;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61; * * @param clz * @param &lt;T&gt; * @return */ public &lt;T extends InstallSoftware&gt; T getComputer(Class&lt;T&gt; clz) { InstallSoftware installSoftware = null; try { installSoftware = (InstallSoftware) Class.forName(clz.getName()).newInstance(); } catch (InstantiationException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e.printStackTrace(); } catch (ClassNotFoundException e) { e.printStackTrace(); } return (T) installSoftware; }} &#x200B; &#x573A;&#x666F;&#x7C7B;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142 package com.yf.designpatternandroid; /*** Created by iuni.life on 16/8/15.* yangfei&apos;s computer.*/public class Client { public static void main(String[] args) { //&#x73B0;&#x5728;&#x751F;&#x4EA7;&#x4E00;&#x6279;windows&#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111; //&#x8FD9;&#x91CC;&#x4E3E;&#x4F8B;&#x5B50;&#x8BF4;&#x660E;,&#x5177;&#x4F53;&#x9A71;&#x52A8;&#x5C31;&#x4E0D;&#x4E00;&#x4E00;&#x5217;&#x4E3E;&#x4E86;. ComputerFactory computerFactory = new ComputerFactory(); WindowsSoftware windowsSoftware = computerFactory.getComputer(WindowsSoftware.class); windowsSoftware.installSystem(&quot;Windows 10&quot;); windowsSoftware.installAudioDriver(&quot;Windows AudioDriver&quot;); windowsSoftware.installGPUDriver(&quot;Windows GPUDriver&quot;); windowsSoftware.installKeyBoardDriver(&quot;Windows KeyBoardDriver&quot;); windowsSoftware.installMainBoxdriver(&quot;Windows MainBoxdrive&quot;); windowsSoftware.installMouseDriver(&quot;Windows MouseDriver&quot;); windowsSoftware.installNetCardDriver(&quot;Windows NetCardDriver&quot;); windowsSoftware.installUSBDriver(&quot;Windows USBDriver&quot;); System.out.println(windowsSoftware.finish()); //&#x73B0;&#x5728;&#x8981;&#x751F;&#x4EA7;&#x4E00;&#x6279;Ubuntu&#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111; UbuntuSoftware ubuntuSoftware = computerFactory.getComputer(UbuntuSoftware.class); //Ubuntu&#x7CFB;&#x7EDF;&#x4E00;&#x822C;&#x53EA;&#x8981;&#x5B89;&#x88C5;&#x597D;&#x7CFB;&#x7EDF;&#x5C31;&#x53EF;&#x4EE5; ubuntuSoftware.installSystem(&quot;Ubuntu 14.04&quot;); System.out.println(ubuntuSoftware.finish()); //&#x73B0;&#x5728;&#x53C8;&#x8981;&#x751F;&#x4EA7;&#x4E00;&#x6279;Mac(&#x9ED1;&#x82F9;&#x679C;)&#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111; MacSoftware macSoftware = computerFactory.getComputer(MacSoftware.class); //&#x9ED1;&#x82F9;&#x679C;&#x5B89;&#x88C5;&#x5C31;&#x6709;&#x70B9;&#x7E41;&#x7410;&#x4E86;,&#x9996;&#x5148;&#x8981;&#x627E;&#x9A71;&#x52A8;&#x4EC0;&#x4E48;&#x7684;,&#x66FF;&#x6362;&#x539F;&#x6709;&#x9A71;&#x52A8;&#x7B49;&#x7B49;,&#x5982;&#x679C;&#x5BF9;&#x9ED1;&#x82F9;&#x679C;&#x6709;&#x5174;&#x8DA3;,&#x53EF;&#x53BB;&#x8FDC;&#x666F;&#x8BBA;&#x575B;&#x722C;&#x8D34;&#x5B66;&#x4E60;. //&#x9ED1;&#x82F9;&#x679C;&#x5E94;&#x8BE5;&#x662F;&#x5148;&#x628A;&#x627E;&#x597D;&#x7684;&#x9A71;&#x52A8;&#x4EC0;&#x4E48;&#x7684;&#x878D;&#x5165;&#x5230;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;&#x4E2D;,&#x7136;&#x540E;&#x624D;&#x5F00;&#x59CB;&#x5B89;&#x88C5;mac&#x7CFB;&#x7EDF; macSoftware.installAudioDriver(&quot;Mac AudioDriver&quot;); macSoftware.installGPUDriver(&quot;Mac GPUDriver&quot;); macSoftware.installKeyBoardDriver(&quot;Mac KeyBoardDriver&quot;); macSoftware.installMainBoxdriver(&quot;Mac MainBoxdriver&quot;); macSoftware.installMouseDriver(&quot;Mac MouseDriver&quot;); macSoftware.installNetCardDriver(&quot;Mac NetCardDriver&quot;); macSoftware.installUSBDriver(&quot;Mac USBDriver&quot;); macSoftware.installSystem(&quot;Mac Os 10.11.6&quot;); System.out.println(macSoftware.finish()); } } &#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x3002; &#x200B; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#x4F18;&#x70B9; &#x826F;&#x597D;&#x7684;&#x5C01;&#x88C5;&#x6027;&#xFF0C;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x6E05;&#x6670;&#xFF1A; &#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#xFF0C;&#x964D;&#x4F4E;&#x6A21;&#x5757;&#x95F4;&#x7684;&#x8026;&#x5408;&#x3002; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x7684;&#x62D3;&#x5C55;&#x6027;&#x975E;&#x5E38;&#x4F18;&#x79C0;&#xFF1A; &#x5728;&#x589E;&#x52A0;&#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EA;&#x8981;&#x9002;&#x5F53;&#x4FEE;&#x6539;&#x5177;&#x4F53;&#x7684;&#x5DE5;&#x5382;&#x7C7B;&#x6216;&#x8005;&#x62D3;&#x5C55;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x7C7B;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x62E5;&#x62B1;&#x53D8;&#x5316;&#x3002;&#x4F8B;&#x5982;&#x5728;&#x6211;&#x4EEC;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#x9700;&#x8981;&#x751F;&#x4EA7;&#x4E00;&#x4E2A;&#x88C5;radHat&#x7684;&#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111;&#xFF0C;&#x5219;&#x53EA;&#x9700;&#x8981;&#x589E;&#x52A0;&#x4E00;&#x4E2A;RedHatSoftware&#x7C7B;&#xFF0C;&#x5DE5;&#x5382;&#x7C7B;&#x4E0D;&#x9700;&#x8981;&#x505A;&#x4EFB;&#x4F55;&#x4FEE;&#x6539;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x7CFB;&#x7EDF;&#x62D3;&#x5C55;&#x3002; &#x5C4F;&#x853D;&#x4EA7;&#x54C1;&#x7C7B;&#xFF1A; &#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x4EFB;&#x4F55;&#x53D8;&#x5316;&#xFF0C;&#x8C03;&#x7528;&#x8005;&#x90FD;&#x65E0;&#x9700;&#x5173;&#x5FC3;&#xFF0C;&#x5B83;&#x53EA;&#x8981;&#x5173;&#x5FC3;&#x4EA7;&#x54C1;&#x7684;&#x63A5;&#x53E3;&#x3002; &#x5178;&#x578B;&#x7684;&#x89E3;&#x8026;&#x6846;&#x67B6;: &#x9AD8;&#x5C42;&#x6A21;&#x5757;&#x53EA;&#x9700;&#x8981;&#x77E5;&#x9053;&#x4EA7;&#x54C1;&#x7684;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x65E0;&#x9700;&#x5173;&#x5FC3;&#xFF0C;&#x7B26;&#x5408;&#x8FEA;&#x7C73;&#x7279;&#x539F;&#x5219;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x5C31;&#x4E0D;&#x8981;&#x53BB;&#x4EA4;&#x6D41;&#xFF0C;&#x7B26;&#x5408;&#x4F9D;&#x8D56;&#x5012;&#x7F6E;&#x539F;&#x5219;&#xFF0C;&#x53EA;&#x4F9D;&#x8D56;&#x4EA7;&#x54C1;&#x7684;&#x62BD;&#x8C61;&#xFF0C;&#x7B26;&#x5408;&#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219;&#xFF0C;&#x4F7F;&#x7528;&#x4EA7;&#x54C1;&#x5B50;&#x7C7B;&#x66FF;&#x6362;&#x4EA7;&#x54C1;&#x7236;&#x7C7B;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x3002; &#x7F3A;&#x70B9; &#x7C7B;&#x7ED3;&#x6784;&#x7684;&#x590D;&#x6742;&#x5316;: &#x6BCF;&#x6B21;&#x4E3A;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x4EA7;&#x54C1;&#x65F6;&#x5C31;&#x8981;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4EA7;&#x54C1;&#x7C7B;&#xFF0C;&#x8FD8;&#x8981;&#x5F15;&#x5165;&#x62BD;&#x8C61;&#x5C42;&#x3002; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x7684;&#x62D3;&#x5C55;&#x200B; &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x4E00;&#x822C;&#x6709;4&#x79CD;&#x62D3;&#x5C55;&#xFF0C;&#x5206;&#x522B;&#x4E3A;&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x3001;&#x5347;&#x7EA7;&#x4E3A;&#x591A;&#x4E2A;&#x5DE5;&#x5382;&#x7C7B;&#x3001;&#x66FF;&#x6362;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x3001;&#x5EF6;&#x8FDF;&#x521D;&#x59CB;&#x5316;&#x3002; &#x200B; &#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#x8FD9;4&#x4E2A;&#x62D3;&#x5C55;&#x3002; &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#xFF08;&#x9759;&#x6001;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#xFF09; &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x4EC5;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x7C7B;&#xFF0C;&#x4F7F;&#x7528;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x5C31;&#x53EF;&#x4EE5;&#xFF0C;&#x6240;&#x6709;&#x6211;&#x4EEC;&#x628A;&#x4E0A;&#x8BC9;&#x5DE5;&#x5382;&#x7C7B;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF08;ComputerFactory&#xFF09;&#x91CC;&#x7684;&#x65B9;&#x6CD5;&#x6539;&#x4E3A;&#x9759;&#x6001;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;: 123456789101112131415161718192021222324252627/*** Created by iuni.life on 16/8/15.* yangfei&apos;s computer.*/public class ComputerFactory{ /** * &#x5229;&#x7528;&#x53CD;&#x5C04;&#x65B9;&#x5F0F;&#x751F;&#x4EA7;&#x5177;&#x4F53;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61; * * @param clz * @param &lt;T&gt; * @return */ public static &lt;T extends InstallSoftware&gt; T getComputer(Class&lt;T&gt; clz) { InstallSoftware installSoftware = null; try { installSoftware = (InstallSoftware) Class.forName(clz.getName()).newInstance(); } catch (InstantiationException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e.printStackTrace(); } catch (ClassNotFoundException e) { e.printStackTrace(); } return (T) installSoftware; }} &#x8BF4;&#x660E;: &#x4E0A;&#x8BC9;&#x4EE3;&#x7801;&#x4E0E;&#x539F;&#x6709;&#x76F8;&#x6BD4;&#xFF0C;&#x6709;2&#x5904;&#x53D8;&#x5316;&#xFF0C;&#x4E00;&#x5904;&#x662F;&#x53BB;&#x6389;&#x4E86;Factory&#x62BD;&#x8C61;&#x7C7B;,&#x4E00;&#x5904;&#x662F;&#x628A;getComputer&#x8BBE;&#x4E3A;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x3002; &#x573A;&#x666F;&#x7C7B;&#x4E5F;&#x8981;&#x505A;&#x4E00;&#x4E9B;&#x9002;&#x5F53;&#x53D8;&#x5316;: 123456789101112131415161718192021222324252627282930313233343536373839404142/** * Created by iuni.life on 16/8/15. * yangfei&apos;s computer. */public class Client { public static void main(String[] args) { //&#x73B0;&#x5728;&#x751F;&#x4EA7;&#x4E00;&#x6279;windows&#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111; //&#x8FD9;&#x91CC;&#x4E3E;&#x4F8B;&#x5B50;&#x8BF4;&#x660E;,&#x5177;&#x4F53;&#x9A71;&#x52A8;&#x5C31;&#x4E0D;&#x4E00;&#x4E00;&#x5217;&#x4E3E;&#x4E86;. WindowsSoftware windowsSoftware = ComputerFactory.getComputer(WindowsSoftware.class); windowsSoftware.installSystem(&quot;Windows 10&quot;); windowsSoftware.installAudioDriver(&quot;Windows AudioDriver&quot;); windowsSoftware.installGPUDriver(&quot;Windows GPUDriver&quot;); windowsSoftware.installKeyBoardDriver(&quot;Windows KeyBoardDriver&quot;); windowsSoftware.installMainBoxdriver(&quot;Windows MainBoxdrive&quot;); windowsSoftware.installMouseDriver(&quot;Windows MouseDriver&quot;); windowsSoftware.installNetCardDriver(&quot;Windows NetCardDriver&quot;); windowsSoftware.installUSBDriver(&quot;Windows USBDriver&quot;); System.out.println(windowsSoftware.finish()); //&#x73B0;&#x5728;&#x8981;&#x751F;&#x4EA7;&#x4E00;&#x6279;Ubuntu&#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111; UbuntuSoftware ubuntuSoftware = ComputerFactory.getComputer(UbuntuSoftware.class); //Ubuntu&#x7CFB;&#x7EDF;&#x4E00;&#x822C;&#x53EA;&#x8981;&#x5B89;&#x88C5;&#x597D;&#x7CFB;&#x7EDF;&#x5C31;&#x53EF;&#x4EE5; ubuntuSoftware.installSystem(&quot;Ubuntu 14.04&quot;); System.out.println(ubuntuSoftware.finish()); //&#x73B0;&#x5728;&#x53C8;&#x8981;&#x751F;&#x4EA7;&#x4E00;&#x6279;Mac(&#x9ED1;&#x82F9;&#x679C;)&#x7CFB;&#x7EDF;&#x7684;&#x7535;&#x8111; MacSoftware macSoftware = ComputerFactory.getComputer(MacSoftware.class); //&#x9ED1;&#x82F9;&#x679C;&#x5B89;&#x88C5;&#x5C31;&#x6709;&#x70B9;&#x7E41;&#x7410;&#x4E86;,&#x9996;&#x5148;&#x8981;&#x627E;&#x9A71;&#x52A8;&#x4EC0;&#x4E48;&#x7684;,&#x66FF;&#x6362;&#x539F;&#x6709;&#x9A71;&#x52A8;&#x7B49;&#x7B49;,&#x5982;&#x679C;&#x5BF9;&#x9ED1;&#x82F9;&#x679C;&#x6709;&#x5174;&#x8DA3;,&#x53EF;&#x53BB;&#x8FDC;&#x666F;&#x8BBA;&#x575B;&#x722C;&#x8D34;&#x5B66;&#x4E60;. //&#x9ED1;&#x82F9;&#x679C;&#x5E94;&#x8BE5;&#x662F;&#x5148;&#x628A;&#x627E;&#x597D;&#x7684;&#x9A71;&#x52A8;&#x4EC0;&#x4E48;&#x7684;&#x878D;&#x5165;&#x5230;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;&#x4E2D;,&#x7136;&#x540E;&#x624D;&#x5F00;&#x59CB;&#x5B89;&#x88C5;mac&#x7CFB;&#x7EDF; macSoftware.installAudioDriver(&quot;Mac AudioDriver&quot;); macSoftware.installGPUDriver(&quot;Mac GPUDriver&quot;); macSoftware.installKeyBoardDriver(&quot;Mac KeyBoardDriver&quot;); macSoftware.installMainBoxdriver(&quot;Mac MainBoxdriver&quot;); macSoftware.installMouseDriver(&quot;Mac MouseDriver&quot;); macSoftware.installNetCardDriver(&quot;Mac NetCardDriver&quot;); macSoftware.installUSBDriver(&quot;Mac USBDriver&quot;); macSoftware.installSystem(&quot;Mac Os 10.11.6&quot;); System.out.println(macSoftware.finish()); }} &#x8BF4;&#x660E;: &#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x6CA1;&#x6709;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x800C;&#x4E14;&#x8C03;&#x7528;&#x8005;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x7F3A;&#x70B9;&#x662F;&#x5DE5;&#x5382;&#x7C7B;&#x7684;&#x62D3;&#x5C55;&#x6BD4;&#x8F83;&#x56F0;&#x96BE;&#xFF0C;&#x4E0D;&#x7B26;&#x5408;&#x5F00;&#x95ED;&#x539F;&#x5219;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4ECD;&#x7136;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5B9E;&#x7528;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002; &#x5347;&#x7EA7;&#x4E3A;&#x591A;&#x4E2A;&#x5DE5;&#x5382;&#x7C7B; &#x6211;&#x4EEC;&#x5728;&#x505A;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#x9879;&#x76EE;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6240;&#x6709;&#x4EA7;&#x54C1;&#x7C7B;&#x90FD;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x4E2D;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#x4F1A;&#x4F7F;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x4E0D;&#x6E05;&#x6670;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;&#x7C7B;&#x6709;5&#x4E2A;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x3002;&#x6BCF;&#x4E2A;&#x5B9E;&#x73B0;&#x7C7B;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF08;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;new&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x5305;&#x62EC;new&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x5BF9;&#x5BF9;&#x8C61;&#x8BBE;&#x7F6E;&#x4E00;&#x5B9A;&#x7684;&#x521D;&#x59CB;&#x503C;&#xFF09;&#x65B9;&#x6CD5;&#x90FD;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x5982;&#x679C;&#x5199;&#x5728;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x52BF;&#x5FC5;&#x4F1A;&#x5BFC;&#x81F4;&#x8BE5;&#x65B9;&#x6CD5;&#x5DE8;&#x5927;&#x65E0;&#x6BD4;&#xFF0C;&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x628A;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x5347;&#x7EA7;&#x4E3A;&#x591A;&#x4E2A;&#x5DE5;&#x5382;&#x7C7B;&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x4EE5;&#x4E0A;&#x8FF0;&#x6848;&#x4F8B;&#x4E3A;&#x4F8B;&#xFF0C;&#x4F46;&#x662F;&#x6BCF;&#x4E2A;&#x7535;&#x8111;&#x5B89;&#x88C5;&#x7684;&#x9A71;&#x52A8;&#x7248;&#x672C;&#x4E0D;&#x540C;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x7B80;&#x5355;&#x7684;UML&#x7C7B;&#x56FE;(&#x65B9;&#x6CD5;&#x5168;&#x90E8;&#x7701;&#x7565;&#x4E86;)&#xFF1A; &#x6211;&#x4EEC;&#x4EE5;&#x751F;&#x4EA7;&#x4E0D;&#x540C;&#x8F6F;&#x4EF6;/&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x7684;windows&#x7535;&#x8111;&#x4E3A;&#x4F8B;&#xFF0C;&#x5176;&#x4ED6;2&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x4E00;&#x81F4;&#x3002; &#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5728;&#x6587;&#x7AE0;&#x6700;&#x5F00;&#x59CB;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#x628A;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x7C7B;&#x5206;&#x6210;&#x4E86;3&#x4E2A;&#x5DE5;&#x5382;&#x7C7B;&#xFF0C;&#x4F7F;&#x5176;&#x5404;&#x4E2A;&#x5DE5;&#x5382;&#x5404;&#x53F8;&#x5176;&#x804C;&#xFF0C;&#x63D0;&#x5347;&#x5DE5;&#x5382;&#x4EA7;&#x91CF;&#x3002; Factory&#x4FEE;&#x6539;&#x4E3A; 1234567/*** Created by iuni.life on 16/8/16.* yangfei&apos;s computer.*/public abstract class Factory { public abstract InstallSoftware getComputer();} &#x589E;&#x52A0;WindowsFactory 12345678910 /*** Created by yangfei on 16/8/16.*/public class WindowsFactory extends Factory { @Override public InstallSoftware getComputer() { return new WindowsSoftware(); }} &#x573A;&#x666F;&#x7C7B; 1234567891011121314151617181920 /*** Created by yangfei on 16/8/16.*/public class Client2 { public static void main(String[] args) { //&#x8FD9;&#x91CC;&#x4E3E;&#x4F8B;&#x5B50;&#x8BF4;&#x660E;,&#x5177;&#x4F53;&#x9A71;&#x52A8;&#x5C31;&#x4E0D;&#x4E00;&#x4E00;&#x5217;&#x4E3E;&#x4E86;. WindowsFactory windowsFactory = new WindowsFactory(); WindowsSoftware windowsSoftware = (WindowsSoftware) windowsFactory.getComputer(); windowsSoftware.installSystem(&quot;Windows 10&quot;); windowsSoftware.installAudioDriver(&quot;Windows AudioDriver&quot;); windowsSoftware.installGPUDriver(&quot;Windows GPUDriver&quot;); windowsSoftware.installKeyBoardDriver(&quot;Windows KeyBoardDriver&quot;); windowsSoftware.installMainBoxdriver(&quot;Windows MainBoxdrive&quot;); windowsSoftware.installMouseDriver(&quot;Windows MouseDriver&quot;); windowsSoftware.installNetCardDriver(&quot;Windows NetCardDriver&quot;); windowsSoftware.installUSBDriver(&quot;Windows USBDriver&quot;); System.out.println(windowsSoftware.finish()); } } &#x8BF4;&#x660E;:&#x5176;&#x4ED6;2&#x79CD;&#x5C31;&#x4E0D;&#x4E3E;&#x4F8B;&#x4E86;&#xFF0C;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x7C7B;&#x4F3C;&#x3002;&#x5B9E;&#x73B0;&#x5404;&#x81EA;&#x7684;Factory&#x4F7F;&#x5176;&#x7EE7;&#x627F;&#x81EA;Factory&#x62BD;&#x8C61;&#x7C7B;&#x3002; &#x66FF;&#x6362;&#x5355;&#x4F8B;&#x6A21;&#x5F0F; &#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0B;&#x9762;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A; &#x5355;&#x4F8B;&#x7C7B; 123456789101112/*** Created by yangfei on 16/8/16.*/public class Singleton { //&#x4E0D;&#x5141;&#x8BB8;&#x901A;&#x8FC7;new&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61; private Singleton() { } public void doSomething() { //&#x4E1A;&#x52A1;&#x5904;&#x7406; }} &#x8D1F;&#x8D23;&#x751F;&#x6210;&#x5355;&#x4F8B;&#x7684;&#x5DE5;&#x5382;&#x7C7B; 12345678910111213141516171819202122232425262728293031323334import java.lang.reflect.Constructor;import java.lang.reflect.InvocationTargetException;/** * Created by yangfei on 16/8/16. */public class SingletonFactory { private static Singleton singleton; static { try { Class c1=Class.forName(Singleton.class.getName()); //&#x83B7;&#x5F97;&#x65E0;&#x53C2;&#x6784;&#x9020; Constructor constructor=c1.getDeclaredConstructor(); //&#x8BBE;&#x7F6E;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x662F;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x7684; constructor.setAccessible(true); //&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61; singleton=(Singleton)constructor.newInstance(); } catch (ClassNotFoundException e) { e.printStackTrace(); } catch (NoSuchMethodException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e.printStackTrace(); } catch (InstantiationException e) { e.printStackTrace(); } catch (InvocationTargetException e) { e.printStackTrace(); } } public static Singleton getSingleton() { return singleton; }} &#x5EF6;&#x8FDF;&#x521D;&#x59CB;&#x5316; &#x4F55;&#x4E3A;&#x5EF6;&#x8FDF;&#x521D;&#x59CB;&#x5316;&#xFF08;Lazy initialization&#xFF09;&#xFF1F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x88AB;&#x6D88;&#x8D39;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x5E76;&#x4E0D;&#x7ACB;&#x523B;&#x91CA;&#x653E;&#xFF0C;&#x5DE5;&#x5382;&#x7C7B;&#x4FDD;&#x6301;&#x5176;&#x521D;&#x59CB;&#x72B6;&#x6001;&#xFF0C;&#x7B49;&#x5F85;&#x518D;&#x6B21;&#x88AB;&#x4F7F;&#x7528;&#x3002;&#x5EF6;&#x8FDF;&#x521D;&#x59CB;&#x5316;&#x662F;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x7684;&#x4E00;&#x4E2A;&#x6269;&#x5C55;&#x5E94;&#x7528;&#xFF0C;&#x5176;&#x901A;&#x7528;&#x7C7B;&#x56FE;&#x5982;&#x56FE;&#x5982;&#x4E0B;&#x6240;&#x793A;&#x3002; ProductFactory&#x8D1F;&#x8D23;&#x4EA7;&#x54C1;&#x7C7B;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x5DE5;&#x4F5C;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x8FC7;prMap&#x53D8;&#x91CF;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#xFF0C;&#x5BF9;&#x9700;&#x8981;&#x518D;&#x6B21;&#x88AB;&#x91CD;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x4FDD;&#x7559;&#xFF0C;Product&#x548C;ConcreteProduct&#x662F;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x3002;ProductFactory&#x5982;&#x4EE3;&#x7801;&#x6E05;&#x5355;&#x5982;&#x4E0B;&#x6240;&#x793A;: 123456789101112131415161718192021public class ProductFactory { private static final Map&lt;String, Product&gt; prMap = new HashMap(); public static synchronized Product createProduct(String type) throws Exception { Product product = null; // &#x5982;&#x679C;Map&#x4E2D;&#x5DF2;&#x7ECF;&#x6709;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61; if (prMap.containsKey(type)) { product = prMap.get(type); } else { if (type.equals(&quot;Product1&quot;)) { product = new ConcreteProduct1(); } else { product = new ConcreteProduct2(); } // &#x540C;&#x65F6;&#x628A;&#x5BF9;&#x8C61;&#x653E;&#x5230;&#x7F13;&#x5B58;&#x5BB9;&#x5668;&#x4E2D; prMap.put(type, product); } return product; }} &#x901A;&#x8FC7;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;Map&#x5BB9;&#x5668;&#xFF0C;&#x5BB9;&#x7EB3;&#x6240;&#x6709;&#x4EA7;&#x751F;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x5728;Map&#x5BB9;&#x5668;&#x4E2D;&#x5DF2;&#x7ECF;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x53D6;&#x51FA;&#x8FD4;&#x56DE;&#xFF1B;&#x5982;&#x679C;&#x6CA1;&#x6709;&#xFF0C;&#x5219;&#x6839;&#x636E;&#x9700;&#x8981;&#x7684;&#x7C7B;&#x578B;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5E76;&#x653E;&#x5165;&#x5230;Map&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x4EE5;&#x65B9;&#x4FBF;&#x4E0B;&#x6B21;&#x8C03;&#x7528;&#x3002; &#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x6846;&#x67B6;&#x662F;&#x53EF;&#x4EE5;&#x6269;&#x5C55;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#x9650;&#x5236;&#x67D0;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x6700;&#x5927;&#x5B9E;&#x4F8B;&#x5316;&#x6570;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5224;&#x65AD;Map&#x4E2D;&#x5DF2;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#x6570;&#x91CF;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x5904;&#x7406;&#x662F;&#x975E;&#x5E38;&#x6709;&#x610F;&#x4E49;&#x7684;&#xFF0C;&#x4F8B;&#x5982;JDBC&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x90FD;&#x4F1A;&#x8981;&#x6C42;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;MaxConnections&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#x91CF;&#xFF0C;&#x8BE5;&#x6570;&#x91CF;&#x5C31;&#x662F;&#x5185;&#x5B58;&#x4E2D;&#x6700;&#x5927;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#x6570;&#x91CF;&#x3002;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F8B;&#x5982;&#x786C;&#x4EF6;&#x8BBF;&#x95EE;&#xFF0C;&#x6D89;&#x53CA;&#x591A;&#x65B9;&#x9762;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x964D;&#x4F4E;&#x5BF9;&#x8C61;&#x7684;&#x4EA7;&#x751F;&#x548C;&#x9500;&#x6BC1;&#x5E26;&#x6765;&#x7684;&#x590D;&#x6742;&#x6027;&#x3002; &#x540E;&#x8BB0;&#x6587;&#x7AE0;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#xFF0C;&#x671B;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x70B9;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599; &lt;&lt;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x8749;&gt;&gt; &#x79E6;&#x5C0F;&#x6CE2; &#x8457; &#x4E2A;&#x4EBA;&#x535A;&#x5BA2;iplugin.cn","categories":[],"tags":[{"name":"Java 设计模式","slug":"Java-设计模式","permalink":"http://iplugin.cn/tags/Java-设计模式/"}],"keywords":[]},{"title":"Android 原型模式","slug":"原型模式","date":"2016-08-08T04:58:55.000Z","updated":"2017-06-14T13:55:08.000Z","comments":true,"path":"2016/08/08/原型模式/","link":"","permalink":"http://iplugin.cn/2016/08/08/原型模式/","excerpt":"&#x6458;&#x8981;: Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x3002;","text":"&#x6458;&#x8981;: Java&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x3002; &#x524D;&#x8A00;&#x6B63;&#x6240;&#x8C13;&#x53EA;&#x8981;&#x529F;&#x592B;&#x6DF1;&#xFF0C;&#x94C1;&#x6775;&#x78E8;&#x6210;&#x9488;&#xFF0C;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6C34;&#x6EF4;&#x77F3;&#x7A7F;&#x3002;&#x5B66;&#x4E60;&#x4E5F;&#x8981;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#xFF0C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4EE5;&#x91CF;&#x53D8;&#x4FC3;&#x6210;&#x8D28;&#x53D8;&#x3002;&#x5728;&#x524D;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x597D;&#x826F;&#x597D;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x4E0D;&#x6025;&#x4E0D;&#x71E5;&#xFF0C;&#x811A;&#x8E0F;&#x5B9E;&#x5730;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x4E2A;&#x811A;&#x5370;&#x3002; &#x539F;&#x578B;&#x6A21;&#x5F0F; &#x4ECB;&#x7ECD;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x662F;&#x4E00;&#x4E2A;&#x521B;&#x5EFA;&#x578B;&#x7684;&#x6A21;&#x5F0F;&#x3002;&#x539F;&#x578B;&#x4E8C;&#x5B57;&#x5373;&#x53EF;&#x8868;&#x660E;&#x8BE5;&#x6A21;&#x5F0F;&#x6709;&#x4E00;&#x4E2A;&#x6837;&#x677F;&#x5B9E;&#x4F8B;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4ECE;&#x8FD9;&#x4E2A;&#x6837;&#x677F;&#x7684;&#x5BF9;&#x8C61;&#x4E2D;&#x590D;&#x5236;&#x4E00;&#x4E2A;&#x4E0E;&#x8BE5;&#x5BF9;&#x8C61;&#x5185;&#x90E8;&#x5C5E;&#x6027;&#x4E00;&#x81F4;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x6240;&#x8BF4;&#x7684;&#x514B;&#x9686;&#x3002; &#x539F;&#x578B;&#x6A21;&#x5F0F; &#x5B9A;&#x4E49;&#x7528;&#x539F;&#x578B;&#x5B9E;&#x4F8B;&#x6307;&#x5B9A;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x79CD;&#x7C7B;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x8FC7;&#x62F7;&#x8D1D;&#x8FD9;&#x4E9B;&#x539F;&#x578B;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x3002; &#x539F;&#x578B;&#x6A21;&#x5F0F; &#x4F7F;&#x7528;&#x573A;&#x666F; &#x8D44;&#x6E90;&#x4F18;&#x5316;&#x573A;&#x666F; &#x7C7B;&#x521D;&#x59CB;&#x5316;&#x9700;&#x8981;&#x6D88;&#x8017;&#x975E;&#x5E38;&#x591A;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x8FD9;&#x4E2A;&#x8D44;&#x6E90;&#x5305;&#x62EC;&#x6570;&#x636E;&#x3001;&#x786C;&#x4EF6;&#x8D44;&#x6E90;&#x7B49;&#x3002; &#x6027;&#x80FD;&#x548C;&#x5B89;&#x5168;&#x8981;&#x6C42;&#x7684;&#x573A;&#x666F; &#x901A;&#x8FC7;new&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x975E;&#x5E38;&#x7E41;&#x7410;&#x7684;&#x6570;&#x636E;&#x51C6;&#x5907;&#x6216;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x3002; &#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x591A;&#x4E2A;&#x4FEE;&#x6539;&#x8005;&#x7684;&#x573A;&#x666F; &#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x7ED9;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x4E14;&#x5404;&#x4E2A;&#x8C03;&#x7528;&#x8005;&#x53EF;&#x80FD;&#x90FD;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5176;&#x503C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4F7F;&#x7528;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x62F7;&#x8D1D;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x4F9B;&#x8C03;&#x7528;&#x8005;&#x4F7F;&#x7528;&#x3002; &#x8BF4;&#x660E; &#x539F;&#x578B;&#x6A21;&#x5F0F;&#x5DF2;&#x7ECF;&#x4E0E;Java&#x878D;&#x4E3A;&#x4E00;&#x4F53;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x968F;&#x624B;&#x62FF;&#x6765;&#x4F7F;&#x7528;&#x3002; &#x539F;&#x578B;&#x6A21;&#x5F0F; &#x901A;&#x7528;UML&#x7C7B;&#x56FE; &#x539F;&#x578B;&#x6A21;&#x5F0F;&#x901A;&#x7528;UML &#x89D2;&#x8272;&#x4ECB;&#x7ECD; client: &#x5BA2;&#x6237;&#x7AEF;&#x7528;&#x6237;&#x3002; Prototype&#xFF1A; &#x62BD;&#x8C61;&#x7C7B;&#x6216;&#x8005;&#x63A5;&#x53E3;&#xFF0C;&#x58F0;&#x660E;&#x5177;&#x5907;clone&#x80FD;&#x529B;&#x3002; ConcretePrototype: &#x5177;&#x4F53;&#x7684;&#x539F;&#x578B;&#x7C7B;&#x3002; &#x539F;&#x578B;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x4E00;&#x822C;&#x662F;&#x8981;&#x5B9E;&#x73B0;cloneable&#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x4E14;&#x91CD;&#x5199;clone&#x65B9;&#x6CD5;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x4EE5;&#x6587;&#x6863;&#x62F7;&#x8D1D;&#x6765;&#x6F14;&#x793A;&#x4E00;&#x4E2A;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#x3002; &#x6CE8;&#x610F;: clone &#x65B9;&#x6CD5;&#x5E76;&#x4E0D;&#x662F;Cloneable&#x4E2D;&#x7684;&#xFF0C;&#x800C;&#x662F;Object&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;Cloneable &#x662F;&#x4E00;&#x4E2A;&#x6807;&#x8BC6;&#x63A5;&#x53E3;&#xFF0C;&#x5B83;&#x8868;&#x660E;&#x8FD9;&#x4E2A;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x53EF;&#x4EE5;&#x62F7;&#x8D1D;&#x7684;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;Cloneable&#x63A5;&#x53E3;&#x5374;&#x8C03;&#x7528;&#x4E86;clone()&#x51FD;&#x6570;&#x5C06;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002; ConcretePrototype &#x89D2;&#x8272; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879/*** Created by iuni.life on 16/8/5.* &#x6587;&#x6863;&#x7C7B;&#x578B;,&#x626E;&#x6F14;&#x7684;&#x662F;ConCretePrototype&#x89D2;&#x8272;,&#x800C;cloneable&#x662F;&#x4EE3;&#x8868;prototype&#x89D2;&#x8272;*/public class WordDocument implements Cloneable { //&#x6587;&#x672C; private String mText; //&#x56FE;&#x7247;&#x5217;&#x8868; private ArrayList&lt;String&gt; mImages = new ArrayList&lt;&gt;(); private HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;(); public WordDocument() { System.out.println(&quot;---------------WordDocument&#x6784;&#x9020;&#x51FD;&#x6570;--------------------&quot;); } @Override protected WordDocument clone() { try { WordDocument document = (WordDocument) super.clone(); document.mText = this.mText; document.mImages = this.mImages; document.hashMap = this.hashMap; return document; } catch (Exception e) { } return null; } public HashMap&lt;String, Object&gt; getHashMap() { return hashMap; } public void setHashMap(HashMap&lt;String, Object&gt; hashMap) { this.hashMap = hashMap; } public void addMap(String key, String value) { hashMap.put(key, value); } public String getmText() { return mText; } public void setmText(String mText) { this.mText = mText; } public ArrayList&lt;String&gt; getmImages() { return mImages; } public void setmImages(ArrayList&lt;String&gt; mImages) { this.mImages = mImages; } public void addImages(String image) { this.mImages.add(image); } //&#x6253;&#x5370;&#x6587;&#x6863;&#x5185;&#x5BB9; public void showDocument() { System.out.println(&quot;---------Word Content Start---------------&quot;); System.out.println(&quot;Text:&quot; + mText); System.out.println(&quot;Images List:&quot;); for (String imgName : mImages) { System.out.println(&quot;image name :&quot; + imgName); } System.out.println(&quot;hashMap:&quot;); for (String key : hashMap.keySet()) { System.out.println(key + &quot;:&quot; + hashMap.get(key)); } System.out.println(&quot;---------Word Content End---------------&quot;); }} &#x6D4B;&#x8BD5;Client&#x7C7B; 123456789101112131415161718192021222324 /*** Created by iuni.life on 16/8/5.*/ public class Client { public static void main(String[] args) { //&#x6784;&#x5EFA;&#x6587;&#x6863;&#x5BF9;&#x8C61; WordDocument originDoc = new WordDocument(); originDoc.setmText(&quot;&#x8FD9;&#x662F;&#x4E00;&#x7BC7;&#x6587;&#x6863;&quot;); originDoc.addImages(&quot;&#x56FE;&#x7247;1&quot;); originDoc.addImages(&quot;&#x56FE;&#x7247;2&quot;); originDoc.addImages(&quot;&#x56FE;&#x7247;3&quot;); originDoc.addMap(&quot;yi&quot;, &quot;ui&quot;); originDoc.showDocument(); //&#x4E00;&#x4E07;&#x539F;&#x59CB;&#x6587;&#x6863;&#x4E3A;&#x6A21;&#x677F;,&#x62F7;&#x8D1D;&#x4E00;&#x4EFD;&#x526F;&#x672C; WordDocument doc2 = originDoc.clone(); originDoc.showDocument(); //&#x4FEE;&#x6539;&#x6587;&#x6863;&#x526F;&#x672C;,&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x539F;&#x59CB;&#x6587;&#x6863; doc2.setmText(&quot;&#x8FD9;&#x662F;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x6587;&#x672C;&quot;); doc2.showDocument(); originDoc.showDocument(); } } &#x200B; &#x8FD0;&#x884C;&#x7ED3;&#x679C; &#x8BF4;&#x660E;: &#x901A;&#x8FC7;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x77E5;&#x9053;doc2&#x662F;&#x901A;&#x8FC7;originDoc.clone&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x5E76;&#x4E14;doc2&#x9996;&#x6B21;&#x8F93;&#x51FA;&#x7684;&#x65F6;&#x5019;&#x548C;originDoc &#x662F;&#x4E00;&#x6837;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x5373;doc2&#x662F;originDoc &#x7684;&#x4E00;&#x4E2A;&#x62F7;&#x8D1D;&#xFF0C;&#x800C;doc2&#x5F97;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x66F4;&#x6539;&#x540E;&#xFF0C;originDoc&#x7684;&#x6587;&#x672C;&#x5E76;&#x6CA1;&#x6709;&#x53D8;&#x5316;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4FDD;&#x8BC1;&#x4E86;originDoc&#x7684;&#x5B89;&#x5168;&#x6027;.&#x3002; &#x6CE8;&#x610F;: &#x901A;&#x8FC7;clone&#x62F7;&#x8D1D;&#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;&#x5E76;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;&#x5982;&#x679C;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x6709;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5728;&#x4F7F;&#x7528;Cloneable&#x5B9E;&#x73B0;&#x62F7;&#x8D1D;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x8FD9;&#x4E00;&#x70B9;&#x3002; &#x200B; &#x539F;&#x578B;&#x6A21;&#x5F0F;&#x7684;&#x6DF1;&#x62F7;&#x8D1D;&#x548C;&#x6D45;&#x62F7;&#x8D1D; &#x6D45;&#x62F7;&#x8D1D;&#x4E0A;&#x8FF0;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x7684;&#x5B9E;&#x4F8B;&#x5176;&#x5B9E;&#x662F;&#x4E00;&#x4E2A;&#x6D45;&#x62F7;&#x8D1D;&#xFF0C;&#x4E5F;&#x53EB;&#x5F71;&#x5B50;&#x62F7;&#x8D1D;&#xFF0C;&#x8FD9;&#x79CD;&#x62F7;&#x8D1D;&#x5B9E;&#x9645;&#x4E0A;&#x5E76;&#x4E0D;&#x662F;&#x5C06;&#x539F;&#x59CB;&#x6587;&#x6863;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x90FD;&#x91CD;&#x65B0;&#x6784;&#x9020;&#x4E00;&#x4EFD;&#xFF0C;&#x800C;&#x662F;&#x5C06;&#x526F;&#x672C;&#x6587;&#x6863;&#x7684;&#x5B57;&#x6BB5;&#x5F15;&#x7528;&#x539F;&#x59CB;&#x6587;&#x6863;&#x7684;&#x5B57;&#x6BB5;&#x3002; &#x6BD4;&#x5982;&#x6539;&#x53D8;&#x4E0A;&#x8FF0;client&#x7C7B;&#x4E2D;Image List&#x7684;&#x503C;&#xFF1A; 1234567891011121314151617181920212223242526/** * Created by iuni.life on 16/8/5. */public class Client { public static void main(String[] args) { //&#x6784;&#x5EFA;&#x6587;&#x6863;&#x5BF9;&#x8C61; WordDocument originDoc = new WordDocument(); originDoc.setmText(&quot;&#x8FD9;&#x662F;&#x4E00;&#x7BC7;&#x6587;&#x6863;&quot;); originDoc.addImages(&quot;&#x56FE;&#x7247;1&quot;); originDoc.addImages(&quot;&#x56FE;&#x7247;2&quot;); originDoc.addImages(&quot;&#x56FE;&#x7247;3&quot;); originDoc.addMap(&quot;yi&quot;, &quot;ui&quot;); originDoc.showDocument(); //&#x4E00;&#x4E07;&#x539F;&#x59CB;&#x6587;&#x6863;&#x4E3A;&#x6A21;&#x677F;,&#x62F7;&#x8D1D;&#x4E00;&#x4EFD;&#x526F;&#x672C; WordDocument doc2 = originDoc.clone(); originDoc.showDocument(); //&#x4FEE;&#x6539;&#x6587;&#x6863;&#x526F;&#x672C;,&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x539F;&#x59CB;&#x6587;&#x6863; doc2.setmText(&quot;&#x8FD9;&#x662F;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x6587;&#x672C;&quot;); //doc2 &#x65B0;&#x589E;&#x81EA;&#x5DF1;&#x7684;&#x56FE;&#x7247; doc2.addImages(&quot;&#x8FD9;&#x662F;doc2&#x6DFB;&#x52A0;&#x7684;&#x56FE;&#x7247;&quot;); doc2.showDocument(); originDoc.showDocument(); }} &#x6267;&#x884C;&#x7ED3;&#x679C;&#x4E3A;&#xFF1A; &#x6D45;&#x62F7;&#x8D1D;&#x6267;&#x884C;&#x7ED3;&#x679C; &#x4ECE;&#x56FE;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;doc2&#x65B0;&#x589E;&#x7684;&#x56FE;&#x7247;&#xFF0C;originDoc &#x4E5F;&#x65B0;&#x589E;&#x4E86;&#x540C;&#x6837;&#x7684;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x5462;&#xFF0C;&#x90A3;&#x5C31;&#x9700;&#x8981;&#x6DF1;&#x62F7;&#x8D1D;&#x3002; &#x6DF1;&#x62F7;&#x8D1D;&#x90A3;&#x4EC0;&#x4E48;&#x662F;&#x6DF1;&#x62F7;&#x8D1D;&#x5462;&#xFF0C;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x74DC;&#x845B;&#xFF0C;&#x4F60;&#x4FEE;&#x6539;&#x4F60;&#x7684;&#xFF0C;&#x6211;&#x4FEE;&#x6539;&#x6211;&#x7684;&#xFF0C;&#x4E0D;&#x76F8;&#x4E92;&#x5F71;&#x54CD;&#xFF0C;&#x5BF9;&#x4E8E;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x4E5F;&#x8981;&#x91C7;&#x7528;&#x62F7;&#x8D1D;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5355;&#x7EAF;&#x5F15;&#x7528;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x8FD9;&#x624D;&#x53EB;&#x6DF1;&#x62F7;&#x8D1D;&#x3002; &#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x4FEE;&#x6539;&#x4E0A;&#x8FF0;&#x4F8B;&#x5B50;&#x7684;ConcretePrototype &#x89D2;&#x8272;WordDocument&#x7C7B;&#x4E2D;&#x7684;clone&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x5B9E;&#x73B0;&#x6DF1;&#x62F7;&#x8D1D;: 1234567891011121314151617 @Override protected WordDocument clone() { try { WordDocument document = (WordDocument) super.clone(); document.mText = this.mText;// document.mImages=this.mImages;// document.hashMap=this.hashMap; //&#x5BF9;MImages&#x5BF9;&#x8C61;&#x4E5F;&#x8C03;&#x7528;clone&#x5BF9;&#x8C61;,&#x8FDB;&#x884C;&#x6DF1;&#x62F7;&#x8D1D; document.mImages = (ArrayList&lt;String&gt;) this.mImages.clone(); document.hashMap = (HashMap&lt;String, Object&gt;) this.hashMap.clone(); return document; } catch (Exception e) { } return null; } client&#x4E0D;&#x52A8;&#xFF0C;&#x8FD0;&#x884C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x4E3A;&#xFF1A; &#x6DF1;&#x62F7;&#x8D1D;&#x8FD0;&#x884C;&#x7ED3;&#x679C; &#x4ECE;&#x4E0A;&#x8FF0;&#x56FE;&#x7247;&#x53EF;&#x4EE5;&#x770B;&#x5230;doc2&#x6DFB;&#x52A0;&#x4E86;&#x56FE;&#x7247;&#xFF0C;originDoc&#x5E76;&#x6CA1;&#x6709;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#xFF0C;doc2&#x65B0;&#x589E;&#x7684;&#x56FE;&#x7247;&#x5728;originDoc&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x3002; &#x5EFA;&#x8BAE;: &#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x51CF;&#x5C11;&#x9519;&#x8BEF;&#xFF0C;&#x5EFA;&#x8BAE;&#x5927;&#x5BB6;&#x4F7F;&#x7528;&#x6DF1;&#x62F7;&#x8D1D;&#xFF0C;&#x907F;&#x514D;&#x56E0;&#x64CD;&#x4F5C;&#x526F;&#x672C;&#x5F71;&#x54CD;&#x539F;&#x59CB;&#x5BF9;&#x8C61;&#x3002; &#x539F;&#x578B;&#x6A21;&#x5F0F;&#x4F18;&#x7F3A;&#x70B9;&#x4F18;&#x70B9; &#x6027;&#x80FD;&#x4F18;&#x826F; &#x539F;&#x578B;&#x6A21;&#x5F0F;&#x662F;&#x5728;&#x5185;&#x5B58;&#x4E8C;&#x8FDB;&#x5236;&#x6D41;&#x7684;&#x62F7;&#x8D1D;&#xFF0C;&#x8981;&#x6BD4;&#x76F4;&#x63A5;new&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6027;&#x80FD;&#x597D;&#x5F88;&#x591A;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x4F53;&#x5185;&#x4EA7;&#x751F;&#x5927;&#x91CF;&#x7684;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x66F4;&#x597D;&#x7684;&#x4F53;&#x73B0;&#x5176;&#x4F18;&#x70B9;&#x3002; &#x7F3A;&#x70B9;&#x200B; &#x8FD9;&#x65E2;&#x662F;&#x4F18;&#x70B9;&#x4E5F;&#x662F;&#x7F3A;&#x70B9;&#xFF0C;&#x76F4;&#x63A5;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x62F7;&#x8D1D;&#xFF0C;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x3002;&#x4F18;&#x70B9;&#x662F;&#x51CF;&#x5C11;&#x4E86;&#x7EA6;&#x675F;&#xFF0C;&#x7F3A;&#x70B9;&#x4E5F;&#x662F;&#x51CF;&#x5C11;&#x4E86;&#x7EA6;&#x675F;&#xFF0C;&#x5927;&#x5BB6;&#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#x5E94;&#x8BE5;&#x9700;&#x8981;&#x8003;&#x8651;&#x8FD9;&#x4E00;&#x70B9;&#x3002; &#x540E;&#x8BB0;&#x6587;&#x7AE0;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#xFF0C;&#x671B;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x70B9;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599; &lt;&lt;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x8749;&gt;&gt; &#x79E6;&#x5C0F;&#x6CE2; &#x8457; &#x4E2A;&#x4EBA;&#x535A;&#x5BA2;iplugin.cn","categories":[],"tags":[{"name":"Java 设计模式","slug":"Java-设计模式","permalink":"http://iplugin.cn/tags/Java-设计模式/"}],"keywords":[]},{"title":"Android 建造者(Builder)模式","slug":"BuilderDesignPattern","date":"2016-08-03T05:56:23.000Z","updated":"2016-08-31T13:01:14.000Z","comments":true,"path":"2016/08/03/BuilderDesignPattern/","link":"","permalink":"http://iplugin.cn/2016/08/03/BuilderDesignPattern/","excerpt":"&#x524D;&#x8A00;&#x6B63;&#x6240;&#x8C13;&#x53EA;&#x8981;&#x529F;&#x592B;&#x6DF1;&#xFF0C;&#x94C1;&#x6775;&#x78E8;&#x6210;&#x9488;&#xFF0C;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6C34;&#x6EF4;&#x77F3;&#x7A7F;&#x3002;&#x5B66;&#x4E60;&#x4E5F;&#x8981;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#xFF0C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4EE5;&#x91CF;&#x53D8;&#x4FC3;&#x6210;&#x8D28;&#x53D8;&#x3002;&#x5728;&#x524D;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x597D;&#x826F;&#x597D;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x4E0D;&#x6025;&#x4E0D;&#x71E5;&#xFF0C;&#x811A;&#x8E0F;&#x5B9E;&#x5730;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x4E2A;&#x811A;&#x5370;&#x3002; Builder Design Pattern &#x4ECB;&#x7ECD; &#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;&#xFF08;Builder Pattern&#xFF09;&#x4E5F;&#x53EB;&#x505A;&#x751F;&#x6210;&#x5668;&#x6A21;&#x5F0F;&#xFF0C;Builder Design pattern &#x662F;&#x4E00;&#x79CD;&#x521B;&#x5EFA;&#x578B;&#x6A21;&#x5F0F;&#xFF0C;Builder&#x6A21;&#x5F0F;&#x6240;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x4E0E;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x6709;&#x5173;&#x3002;&#x5B83;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x5728;&#x4E0D;&#x77E5;&#x9053;&#x5185;&#x90E8;&#x6784;&#x5EFA;&#x7EC6;&#x8282;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x7CBE;&#x7EC6;&#x7684;&#x63A7;&#x5236;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x9020;&#x6D41;&#x7A0B;&#xFF0C;Builder&#x6A21;&#x5F0F;&#x662F;&#x4E3A;&#x4E86;&#x5C06;&#x6784;&#x9020;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x8FC7;&#x7A0B;&#x548C;&#x4ED6;&#x7684;&#x90E8;&#x4EF6;&#x89E3;&#x8026;&#x3002;Android &#x4E2D;&#x6211;&#x4EEC;&#x6700;&#x5E38;&#x7528;&#x7684;Builder&#x6A21;&#x5F0F;&#x662F;AlterDialog.Builder&#x3002; Builder &#x6A21;&#x5F0F;&#x901A;&#x5E38;&#x662F;&#x4EE5;&#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x5F62;&#x5F0F;&#x5B9E;&#x73B0;&#x3002;","text":"&#x524D;&#x8A00;&#x6B63;&#x6240;&#x8C13;&#x53EA;&#x8981;&#x529F;&#x592B;&#x6DF1;&#xFF0C;&#x94C1;&#x6775;&#x78E8;&#x6210;&#x9488;&#xFF0C;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6C34;&#x6EF4;&#x77F3;&#x7A7F;&#x3002;&#x5B66;&#x4E60;&#x4E5F;&#x8981;&#x575A;&#x6301;&#x4E0D;&#x61C8;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#xFF0C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4EE5;&#x91CF;&#x53D8;&#x4FC3;&#x6210;&#x8D28;&#x53D8;&#x3002;&#x5728;&#x524D;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x8981;&#x4FDD;&#x6301;&#x597D;&#x826F;&#x597D;&#x7684;&#x5FC3;&#x6001;&#xFF0C;&#x4E0D;&#x6025;&#x4E0D;&#x71E5;&#xFF0C;&#x811A;&#x8E0F;&#x5B9E;&#x5730;&#xFF0C;&#x4E00;&#x6B65;&#x4E00;&#x4E2A;&#x811A;&#x5370;&#x3002; Builder Design Pattern &#x4ECB;&#x7ECD; &#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;&#xFF08;Builder Pattern&#xFF09;&#x4E5F;&#x53EB;&#x505A;&#x751F;&#x6210;&#x5668;&#x6A21;&#x5F0F;&#xFF0C;Builder Design pattern &#x662F;&#x4E00;&#x79CD;&#x521B;&#x5EFA;&#x578B;&#x6A21;&#x5F0F;&#xFF0C;Builder&#x6A21;&#x5F0F;&#x6240;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x4E0E;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x6709;&#x5173;&#x3002;&#x5B83;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x5728;&#x4E0D;&#x77E5;&#x9053;&#x5185;&#x90E8;&#x6784;&#x5EFA;&#x7EC6;&#x8282;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x7CBE;&#x7EC6;&#x7684;&#x63A7;&#x5236;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x9020;&#x6D41;&#x7A0B;&#xFF0C;Builder&#x6A21;&#x5F0F;&#x662F;&#x4E3A;&#x4E86;&#x5C06;&#x6784;&#x9020;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x8FC7;&#x7A0B;&#x548C;&#x4ED6;&#x7684;&#x90E8;&#x4EF6;&#x89E3;&#x8026;&#x3002;Android &#x4E2D;&#x6211;&#x4EEC;&#x6700;&#x5E38;&#x7528;&#x7684;Builder&#x6A21;&#x5F0F;&#x662F;AlterDialog.Builder&#x3002; Builder &#x6A21;&#x5F0F;&#x901A;&#x5E38;&#x662F;&#x4EE5;&#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x5F62;&#x5F0F;&#x5B9E;&#x73B0;&#x3002; Builder Design Pattern &#x5B9A;&#x4E49;&#x200B; &#x5C06;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E0E;&#x4ED6;&#x7684;&#x8868;&#x793A;&#x5206;&#x79BB;&#xFF0C;&#x4F7F;&#x5F97;&#x540C;&#x6837;&#x7684;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x793A;&#x3002; Builder Design Pattern &#x4F7F;&#x7528;&#x573A;&#x666F; &#x9700;&#x8981;&#x592A;&#x591A;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002; &#x5F53;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7279;&#x522B;&#x590D;&#x6742;&#xFF0C;&#x5982;&#x53C2;&#x6570;&#x591A;&#xFF0C;&#x5E76;&#x4E14;&#x5F88;&#x591A;&#x53C2;&#x6570;&#x5177;&#x6709;&#x9ED8;&#x8BA4;&#x503C;&#x65F6;&#x3002; &#x914D;&#x7F6E;&#x7C7B;&#x7684;&#x6784;&#x9020;&#x5668;&#x7684;&#x6784;&#x5EFA;&#xFF0C;&#x5C06;&#x914D;&#x7F6E;&#x4E0E;&#x76EE;&#x6807;&#x7C7B;&#x9694;&#x79BB;&#x51FA;&#x6765;&#xFF08;&#x53C2;&#x7167;Universal-Image_Loader&#xFF09;&#x3002; &#x76F8;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#xFF0C;&#x4EA7;&#x751F;&#x4E0D;&#x540C;&#x7684;&#x4E8B;&#x4EF6;&#x7ED3;&#x679C;&#x65F6;&#x3002; &#x591A;&#x4E2A;&#x90E8;&#x4EF6;&#x6216;&#x96F6;&#x4EF6;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x88C5;&#x914D;&#x5230;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x4EA7;&#x751F;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x4E0D;&#x540C;&#x65F6;&#x3002; &#x4EA7;&#x54C1;&#x7C7B;&#x975E;&#x5E38;&#x590D;&#x6742;&#xFF0C;&#x6216;&#x8005;&#x4EA7;&#x54C1;&#x7C7B;&#x4E2D;&#x7684;&#x8C03;&#x7528;&#x987A;&#x5E8F;&#x4E0D;&#x540C;&#x4EA7;&#x751F;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x6548;&#x80FD;&#x3002; Builder Design Pattern &#x901A;&#x7528;UML&#x7C7B;&#x56FE; Builder &#x8BF4;&#x660E;&#xFF1A; Product&#x4EA7;&#x54C1;&#x7C7B; ConcreateBuilder &#x521B;&#x5EFA;&#x8BE5;&#x4EA7;&#x54C1;&#x7684;&#x5185;&#x90E8;&#x8868;&#x793A;&#xFF0C;&#x5E76;&#x5B9A;&#x4E49;&#x5B83;&#x7684;&#x88C5;&#x914D;&#x8FC7;&#x7A0B;&#x3002; Builder&#x62BD;&#x8C61;&#x5EFA;&#x9020;&#x8005; &#x89C4;&#x8303;&#x4EA7;&#x54C1;&#x7684;&#x7EC4;&#x5EFA;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x7531;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#x3002; ConcreateBuilder &#x5177;&#x4F53;&#x5EFA;&#x9020;&#x8005; &#x5B9E;&#x73B0;&#x62BD;&#x8C61;&#x7C7B;&#x5B9A;&#x4E49;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7EC4;&#x5EFA;&#x597D;&#x7684;&#x5BF9;&#x8C61;&#x3002; Director&#x5BFC;&#x6F14;&#x7C7B; &#x8D1F;&#x8D23;&#x5B89;&#x6392;&#x5DF2;&#x6709;&#x6A21;&#x5757;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x544A;&#x8BC9;Builder&#x5F00;&#x59CB;&#x5EFA;&#x9020;&#x3002; Builder Design Pattern &#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x6807;&#x51C6;&#x5316;&#x7684;&#x5EFA;&#x9020;&#x8005;&#xFF08;Builder&#xFF09;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#x6211;&#x4EEC;&#x4EE5;&#x7EC4;&#x5EFA;&#x4E00;&#x53F0;&#x81EA;&#x5DF1;&#x5FC3;&#x4EEA;&#x7684;&#x53F0;&#x5F0F;&#x673A;&#x7535;&#x8111;&#x4E3A;&#x4F8B;&#xFF1B; &#x7535;&#x8111;&#x62BD;&#x8C61;&#x7C7B; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/*** Created by iuni.life on 16/8/2.* &#x7EC4;&#x5EFA;&#x4E00;&#x53F0;&#x7B80;&#x5355;&#x7684;&#x53F0;&#x5F0F;&#x673A;&#x7535;&#x8111;,&#x7535;&#x8111;&#x62BD;&#x8C61;&#x7C7B; &#x5373;Product&#x89D2;&#x8272;*/public class Computer { //cpu protected String mCpu = &quot;intel i3-4150&quot;; //&#x663E;&#x793A;&#x5668; protected String mDisplay = &quot;21&#x5BF8;&quot;; //&#x4E3B;&#x677F; protected String mBoard = &quot;&#x534E;&#x7855; B85&quot;; //&#x7535;&#x6E90; protected String mPower = &quot;&#x5B89;&#x949B;&#x514B; 220V&quot;; //&#x7CFB;&#x7EDF; protected String mSysOs = &quot;Dos&quot;; //&#x4E3B;&#x673A;&#x7BB1; protected String mMainBox = &quot;&#x5148;&#x9A6C;&quot;; //&#x9F20;&#x6807; protected String mMouse = &quot;&#x8D31;&#x9A74;&quot;; //&#x952E;&#x76D8; protected String mKeyBoard = &quot;cherry&quot;; //&#x5185;&#x5B58;&#x6761; protected String mSimm = &quot;2*4G&quot;; //&#x786C;&#x76D8; protected String mHardDisk = &quot;&#x5E0C;&#x6377; 1T&quot;; protected ComputerStant() { } public abstract void setSimm(String simm); public abstract void setHardDisk(String hardDisk); public abstract void setCpu(String cpu); public abstract void setDisplay(String display); public abstract void setBoard(String board); public abstract void setPower(String power); public abstract void setSysOs(String sysOs); public abstract void setMainBox(String mainBox); public abstract void setMouse(String mouse); public abstract void setKeyBoard(String keyBoard); @Override public String toString() { return &quot;ComputerStant{&quot; + &quot;mCpu=&apos;&quot; + mCpu + &apos;\\&apos;&apos; + &quot;, mDisplay=&apos;&quot; + mDisplay + &apos;\\&apos;&apos; + &quot;, mBoard=&apos;&quot; + mBoard + &apos;\\&apos;&apos; + &quot;, mPower=&apos;&quot; + mPower + &apos;\\&apos;&apos; + &quot;, mSysOs=&apos;&quot; + mSysOs + &apos;\\&apos;&apos; + &quot;, mMainBox=&apos;&quot; + mMainBox + &apos;\\&apos;&apos; + &quot;, mMouse=&apos;&quot; + mMouse + &apos;\\&apos;&apos; + &quot;, mKeyBoard=&apos;&quot; + mKeyBoard + &apos;\\&apos;&apos; + &quot;, mSimm=&apos;&quot; + mSimm + &apos;\\&apos;&apos; + &quot;, mHardDisk=&apos;&quot; + mHardDisk + &apos;\\&apos;&apos; + &apos;}&apos;; }} &#x7535;&#x8111;&#x62BD;&#x8C61;&#x7C7B;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF0C;&#x6211;&#x4EEC;&#x4EE5;Mac&#x7535;&#x8111;&#x4E3A;&#x4F8B; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859 /*** Created by iuni.life on 16/8/2.**/public class MacComputer extends Computer { protected MacComputer() { } @Override public void setSimm(String simm) { mSimm = simm; } @Override public void setHardDisk(String hardDisk) { mHardDisk = hardDisk; } @Override public void setCpu(String cpu) { mCpu = cpu; } @Override public void setDisplay(String display) { mDisplay = display; } @Override public void setBoard(String board) { mBoard = board; } @Override public void setPower(String power) { mPower = power; } @Override public void setSysOs(String sysOs) { mSysOs = sysOs; } @Override public void setMainBox(String mainBox) { mMainBox = mainBox; } @Override public void setMouse(String mouse) { mMouse = mouse; } @Override public void setKeyBoard(String keyBoard) { mKeyBoard = keyBoard; } } Builder&#x62BD;&#x8C61;&#x7C7B; 1234567891011121314151617181920212223242526272829303132333435363738 /*** Created by iuni.life on 16/8/2.* builder &#x62BD;&#x8C61;&#x7C7B;*/public abstract class Builder { //&#x521B;&#x5EFA;&#x663E;&#x793A;&#x5668; public abstract Builder buildDisplay(String display); //&#x521B;&#x5EFA;&#x4E3B;&#x677F; public abstract Builder buildBoard(String board); //&#x521B;&#x5EFA;&#x7535;&#x6E90; public abstract Builder buildPower(String power); //&#x521B;&#x5EFA;cpu public abstract Builder buildCpu(String cpu); //&#x521B;&#x5EFA;&#x7CFB;&#x7EDF; public abstract Builder buildSysOs(String sysOs); //&#x521B;&#x5EFA;&#x4E3B;&#x673A;&#x7BB1; public abstract Builder buildMainBox(String mainBox); //&#x521B;&#x5EFA;&#x9F20;&#x6807; public abstract Builder buildMouse(String mouse); //&#x521B;&#x5EFA;&#x952E;&#x76D8; public abstract Builder buildKeyBoard(String keyBoard); //&#x521B;&#x5EFA;&#x5185;&#x5B58;&#x6761; public abstract Builder buildSimm(String simm); //&#x521B;&#x5EFA;&#x786C;&#x76D8; public abstract Builder buildHardDisk(String hardDisk); //&#x521B;&#x5EFA;Computer public abstract ComputerStant create();} Builder &#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x662F;&#x8981;&#x7EC4;&#x88C5;&#x4E00;&#x4E2A;Mac &#x7535;&#x8111;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;MacBuilder 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071 /*** Created by iuni.life on 16/8/2.*/ public class MacBuilder extends Builder { MacComputer macComputer = new MacComputer(); @Override public Builder buildDisplay(String display) { macComputer.setDisplay(display); return this; } @Override public Builder buildBoard(String board) { macComputer.setBoard(board); return this; } @Override public Builder buildPower(String power) { macComputer.setPower(power); return this; } @Override public Builder buildCpu(String cpu) { macComputer.setCpu(cpu); return this; } @Override public Builder buildSysOs(String sysOs) { macComputer.setSysOs(sysOs); return this; } @Override public Builder buildMainBox(String mainBox) { macComputer.setMainBox(mainBox); return this; } @Override public Builder buildMouse(String mouse) { macComputer.setMouse(mouse); return this; } @Override public Builder buildKeyBoard(String keyBoard) { macComputer.setKeyBoard(keyBoard); return this; } @Override public Builder buildSimm(String simm) { macComputer.setSimm(simm); return this; } @Override public Builder buildHardDisk(String hardDisk) { macComputer.setHardDisk(hardDisk); return this; } @Override public ComputerStant create() { return macComputer; } } Director &#x5BFC;&#x6F14;&#x7C7B; 1234567891011121314151617181920212223242526 /*** Created by iuni.life on 16/8/2.*/ public class Director { Builder mBuilder = null; public Director(Builder mBuilder) { this.mBuilder = mBuilder; } //&#x6784;&#x5EFA;&#x5BF9;&#x8C61; public void constract(String mCpu, String mDisplay, String mBoard, String mPower, String mSysOs, String mMainBox, String mMouse, String mKeyBoard, String mSimm, String mHardDisk) { mBuilder.buildCpu(mCpu); mBuilder.buildDisplay(mDisplay); mBuilder.buildBoard(mBoard); mBuilder.buildPower(mPower); mBuilder.buildSysOs(mSysOs); mBuilder.buildMainBox(mMainBox); mBuilder.buildMouse(mMouse); mBuilder.buildKeyBoard(mKeyBoard); mBuilder.buildSimm(mSimm); mBuilder.buildHardDisk(mHardDisk); //&#x4E5F;&#x53EF;&#x94FE;&#x5F0F; // mBuilder.buildMouse(mMouse).buildCpu(mCpu).buildPower(mPower); } } &#x6D4B;&#x8BD5;&#x7C7B; test 1234567891011121314151617181920 /*** Created by iuni.life on 16/8/2.* &#x7ECF;&#x5178;&#x7684;Builder&#x6A21;&#x5F0F;&#x5B9E;&#x73B0;&#x8F83;&#x4E3A;&#x7E41;&#x7410;,&#x6587;&#x7AE0;&#x540E;&#x9762;&#x4F1A;&#x5217;&#x4E3E;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;*/ public class Test { public static void main(String[] args) { //&#x6784;&#x9020;&#x5668; Builder builder = new MacBuilder(); //Director Director director = new Director(builder); //&#x5C01;&#x88C5;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B; director.constract(&quot;intel i7&quot;, &quot;25&#x5BF8;&quot;, &quot;&#x534E;&#x7855; B85&quot;, &quot;&#x5B89;&#x949B;&#x514B;220V&quot;, &quot;Mac Os&quot;, &quot;&#x5148;&#x9A6C;&quot;, &quot;&#x7CBE;&#x7075; X5&quot;, &quot;cherry&quot;, &quot;2*8G&quot;, &quot;&#x5E0C;&#x6377;500G&quot;); //&#x6784;&#x5EFA;&#x7535;&#x8111;,&#x8F93;&#x51FA;&#x76F8;&#x5173;&#x4FE1;&#x606F; System.out.println(&quot;My Mac Computer Info:&quot;+builder.create().toString()); // &#x901A;&#x8FC7;Builder&#x6765;&#x6784;&#x5EFA;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;, &#x800C;Director&#x5C01;&#x88C5;&#x4E86;&#x6784;&#x5EFA;&#x590D;&#x6742;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;&#x5BF9;&#x8C61;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5BF9;&#x5916;&#x9690;&#x85CF;&#x6784;&#x5EFA;&#x7EC6;&#x8282;&#x3002; } } &#x8BF4;&#x660E; &#x901A;&#x8FC7;Builder&#x6765;&#x6784;&#x5EFA;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;, &#x800C;Director&#x5C01;&#x88C5;&#x4E86;&#x6784;&#x5EFA;&#x590D;&#x6742;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;&#x5BF9;&#x8C61;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5BF9;&#x5916;&#x9690;&#x85CF;&#x6784;&#x5EFA;&#x7EC6;&#x8282;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x7ECF;&#x5178;&#x7684;&#x5199;&#x6CD5;&#x6709;&#x70B9;&#x5C0F;&#x70E6;&#xFF0C;&#x6709;&#x70B9;&#x7E41;&#x7410;&#xFF0C;&#x5728;&#x8981;&#x6C42;&#x4E0D;&#x662F;&#x5F88;&#x82DB;&#x523B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x5B9E;&#x73B0;&#x3002; &#x4E00;&#x79CD;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;Builder&#x6A21;&#x5F0F; &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4EE5;Builder&#x4E3A;&#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x4EE5;&#x7EC4;&#x88C5;&#x4E00;&#x53F0;&#x81EA;&#x5DF1;&#x7684;&#x7535;&#x8111;&#x4E3A;&#x4F8B;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133/** * Created by iuni.life on 16/8/2. * &#x7EC4;&#x5EFA;&#x4E00;&#x53F0;&#x7B80;&#x5355;&#x7684;&#x53F0;&#x5F0F;&#x673A;&#x7535;&#x8111;,&#x7535;&#x8111;&#x62BD;&#x8C61;&#x7C7B; &#x5373;Product&#x89D2;&#x8272; */public class Computer { //cpu private String cpu; //&#x663E;&#x793A;&#x5668; private String display; //&#x4E3B;&#x677F; private String board; //&#x7535;&#x6E90; private String power; //&#x7CFB;&#x7EDF; private String sysOs; //&#x4E3B;&#x673A;&#x7BB1; private String mainBox; //&#x9F20;&#x6807; private String mouse; //&#x952E;&#x76D8; private String keyBoard; //&#x79C1;&#x6709;&#x5316;&#x6784;&#x9020;&#x51FD;&#x6570; &#x4F7F;&#x4E4B;&#x4E0D;&#x80FD;&#x4ECE;&#x5916;&#x90E8;&#x521B;&#x5EFA;&#x5B9E;&#x4F8B; private Computer() { } private void setCpu(String cpu) { this.cpu = cpu; } private void setDisplay(String display) { this.display = display; } private void setBoard(String board) { this.board = board; } private void setPower(String power) { this.power = power; } private void setSysOs(String sysOs) { this.sysOs = sysOs; } private void setMainBox(String mainBox) { this.mainBox = mainBox; } private void setMouse(String mouse) { this.mouse = mouse; } private void setKeyBoard(String keyBoard) { this.keyBoard = keyBoard; } @Override public String toString() { return &quot;Computer{&quot; + &quot;cpu=&apos;&quot; + cpu + &apos;\\&apos;&apos; + &quot;, display=&apos;&quot; + display + &apos;\\&apos;&apos; + &quot;, board=&apos;&quot; + board + &apos;\\&apos;&apos; + &quot;, power=&apos;&quot; + power + &apos;\\&apos;&apos; + &quot;, sysOs=&apos;&quot; + sysOs + &apos;\\&apos;&apos; + &quot;, mainBox=&apos;&quot; + mainBox + &apos;\\&apos;&apos; + &quot;, mouse=&apos;&quot; + mouse + &apos;\\&apos;&apos; + &quot;, keyBoard=&apos;&quot; + keyBoard + &apos;\\&apos;&apos; + &apos;}&apos;; } //Builder &#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B; public static class ComputerBuilder { //&#x521B;&#x5EFA;computer&#x5B9E;&#x4F8B; private Computer computer = new Computer(); //&#x521B;&#x5EFA;Cpu public ComputerBuilder buildCpu(String cpu) { computer.setCpu(cpu); return this; } //&#x521B;&#x5EFA;&#x663E;&#x793A;&#x5668; public ComputerBuilder buildDisplay(String display) { computer.setDisplay(display); return this; } //&#x521B;&#x5EFA;&#x4E3B;&#x677F; public ComputerBuilder buildBoard(String board) { computer.setBoard(board); return this; } //&#x521B;&#x5EFA;&#x7535;&#x6E90; public ComputerBuilder buildPower(String power) { computer.setPower(power); return this; } //&#x521B;&#x5EFA;&#x7CFB;&#x7EDF; public ComputerBuilder buildSysOs(String sysOs) { computer.setSysOs(sysOs); return this; } //&#x521B;&#x5EFA;&#x4E3B;&#x673A;&#x7BB1; public ComputerBuilder buildMainBox(String mainBox) { computer.setMainBox(mainBox); return this; } //&#x521B;&#x5EFA;&#x9F20;&#x6807; public ComputerBuilder buildMouse(String mouse) { computer.setMouse(mouse); return this; } //&#x521B;&#x5EFA;&#x952E;&#x76D8; public ComputerBuilder buildKeyBoard(String keyBoard) { computer.setKeyBoard(keyBoard); return this; } //&#x7EC4;&#x88C5;&#x7535;&#x8111;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x521B;&#x5EFA;&#x597D;&#x7684;&#x7535;&#x8111; public Computer create() { //&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x505A;&#x4E00;&#x4E9B;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x903B;&#x8F91;&#x5224;&#x65AD; if (computer==null){ throw new IllegalStateException(&quot;computer is null&quot;); } return computer; } }} 2.&#x6D4B;&#x8BD5;&#x7C7B; 12345678910111213141516171819/** * Created by iuni.life on 16/8/2. */public class main { public static void main(String[] args) { //&#x521B;&#x5EFA;Builder&#x5BF9;&#x8C61; Computer.ComputerBuilder computerBuilder = new Computer.ComputerBuilder(); //&#x7EC4;&#x88C5;&#x7535;&#x8111;,&#x6784;&#x5EFA;&#x7EC4;&#x88C5;&#x987A;&#x5E8F; computerBuilder.buildBoard(&quot;&#x534E;&#x7855;&quot;); computerBuilder.buildCpu(&quot;intel i7&quot;); computerBuilder.buildDisplay(&quot;&#x4E09;&#x661F;&quot;); computerBuilder.buildKeyBoard(&quot;cherry&quot;); computerBuilder.buildMainBox(&quot;&#x6740;&#x795E;&quot;).buildMouse(&quot;&#x8D31;&#x9A74;&quot;).buildPower(&quot;&#x5B89;&#x949B;&#x514B;&quot;).buildSysOs(&quot;Windoes 10&quot;); //&#x7EC4;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x60F3;&#x8981;&#x7684;&#x7684;&#x7535;&#x8111;&#x3002; // computerBuilder &#x53EA;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5BA2;&#x6237;&#x60F3;&#x7EC4;&#x88C5;&#x6210;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x7535;&#x8111;,&#x5E76;&#x5BF9;&#x5BA2;&#x6237;&#x4E0D;&#x5173;&#x5FC3;&#x7684;&#x5982;&#x4F55;&#x5B89;&#x88C5;&#x8FDB;&#x884C;&#x4E86;&#x9690;&#x85CF;&#x3002; Computer computer = computerBuilder.create(); System.out.printf(computer.toString()); }} &#x5EFA;&#x9020;&#x8005;&#xFF08;Builder&#xFF09;&#x6A21;&#x5F0F;&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#x4F18;&#x70B9; &#x5C01;&#x88C5;&#x6027;,&#x4F7F;&#x7528;&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x5FC5;&#x77E5;&#x9053;&#x4EA7;&#x54C1;&#x5185;&#x90E8;&#x7684;&#x7EC4;&#x6210;&#x7684;&#x7EC6;&#x8282;&#x3002; &#x5EFA;&#x9020;&#x8005;&#x72EC;&#x7ACB;&#xFF0C;&#x5BB9;&#x6613;&#x62D3;&#x5C55; &#x7F3A;&#x70B9; &#x4F1A;&#x4EA7;&#x751F;&#x591A;&#x4F59;&#x7684;Builder&#x5BF9;&#x8C61;&#x4EE5;&#x53CA;Director&#x5BF9;&#x8C61;&#xFF0C;&#x6D88;&#x8017;&#x5185;&#x5B58;&#x3002; &#x540E;&#x8BB0;&#x6587;&#x7AE0;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#xFF0C;&#x671B;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x6307;&#x70B9;&#xFF0C;&#x5171;&#x540C;&#x5B66;&#x4E60;&#xFF0C;&#x5171;&#x540C;&#x8FDB;&#x6B65;&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599; &lt;&lt;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E4B;&#x8749;&gt;&gt; &#x79E6;&#x5C0F;&#x6CE2; &#x8457;","categories":[],"tags":[{"name":"Java 设计模式","slug":"Java-设计模式","permalink":"http://iplugin.cn/tags/Java-设计模式/"}],"keywords":[]}]}